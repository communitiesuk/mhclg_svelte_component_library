import{b as f}from"../chunks/s-KFeCcX.js";import"../chunks/CWj6FrbW.js";import{p as se,u as ie,f as z,a as le,y as r,G as c,c as g,s as b,r as C,t as me}from"../chunks/I52qY7cu.js";import{c as q,a as H,f as R}from"../chunks/BBh-6AA0.js";import{s as J}from"../chunks/BvNl7SXi.js";import{i as K}from"../chunks/HAye_oo1.js";import{s as P,c as ce}from"../chunks/vwgBT8YE.js";import{C as de,h as pe,c as fe}from"../chunks/CevlFjkB.js";import{F as ue}from"../chunks/Rci8PI--.js";import{I as ve}from"../chunks/DQ7cVBZZ.js";import{S as he}from"../chunks/BuROiQpU.js";import{S as ge}from"../chunks/O6HjipXA.js";import{p as Q}from"../chunks/DdYFA_Ud.js";import{P as be}from"../chunks/CIogmX2Q.js";import{f as V}from"../chunks/lMwbQCpd.js";const Ce=!0,_e=async d=>{const a=await(await d.fetch(`${f}/data/testData.json`)).json(),t=await(await d.fetch(`${f}/data/svgFontDimensions.json`)).json(),{componentTree:l}=d.data;let p=[...new Set(a.flatMetricData.map(e=>e.metric))],_=[...new Set(a.flatMetricData.map(e=>e.areaCode))],u=[...new Set(a.flatMetricData.map(e=>e.x))],y=p.map(e=>({metric:e,lines:_.map(n=>({areaCode:n,data:a.flatMetricData.filter(o=>o.areaCode===n&&o.metric===e)}))})),M=u.map(e=>({x:e,bars:_.map(n=>{var o;return{areaCode:n,y:(o=a.flatMetricData.filter(i=>i.metric==="Household waste recycling rate").find(i=>i.areaCode===n&&i.x===e))==null?void 0:o.y}})})),v=u.map(e=>({year:e,data:a.flatMetricData.filter(n=>n.x==e).map(n=>({areaCode:n.areaCode,areaName:a.areaCodeLookup[n.areaCode],data:a.flatMetricData.filter(o=>o.x==e&&o.areaCode==n.areaCode).reduce((o,i)=>(o[i.metric]=i.y,o),{})}))})).map(e=>({year:e.year,data:Object.values(e.data.reduce((n,o)=>{const i=`${o.areaCode}_${o.areaName}`;return n[i]||(n[i]=o),n},{}))})),k=a.flatMetricData.map(e=>({...e,y:Math.round(parseFloat(e.y))})).map(e=>({...e,areaName:a.areaCodeLookup[e.areaCode]})).map(({areaCode:e,xLabel:n,...o})=>o).filter(e=>e.x===2022).map(({x:e,...n})=>n),h={};for(let e of k)h[e.areaName]||(h[e.areaName]={areaName:e.areaName}),h[e.areaName][e.metric]=e.y;let w=Object.values(h),F=a.metaData,S=a.indexOfMultipleDeprivation,I=a.deprivationMetaData;return{metrics:p,areas:_,years:u,dataInFormatForLineChart:y,dataInFormatForBarChart:M,dataInFormatForMap:v,dataInFormatForTable:k,tableData:w,areaCodeLookup:a.areaCodeLookup,svgFontDimensions:t,componentTree:l,metaData:F,deprivationData:S,deprivationMetaData:I}},Oe=Object.freeze(Object.defineProperty({__proto__:null,load:_e,prerender:Ce},Symbol.toStringTag,{value:"Module"}));function j(d){let a=[];for(const t of d)t.hasWrapper&&a.push({text:V(t.name),href:`/${t.path}`}),!t.hasWrapper&&t.children&&t.children.length>0&&(a=a.concat(j(t.children)));return a}function xe(d){const a=[];return d.forEach(t=>{if(t.hasWrapper)a.push({text:V(t.name),href:`/${t.path}`});else if(t.children&&t.children.length>0){const l=j(t.children);l.length>0&&a.push({title:t.name,items:l})}}),a}function Ne(d,a){return d.map(t=>{const l=t.href.split("#")[0],p=l===a||t.href===a;return{...t,subItems:p?[{text:"Description",href:`${l}#description`},{text:"Context",href:`${l}#context`},{text:"Component Demo",href:`${l}#component-demo`},{text:"Examples",href:`${l}#examples`}]:t.subItems}})}var De=R('<aside class="app-split-pane__nav svelte-igfkor"><!></aside>'),ye=R('<div class="min-h-screen flex flex-col"><div class="flex-grow"><!> <!> <!> <!> <div><div><!> <div><!></div></div></div></div> <!></div>');function Ue(d,a){se(a,!0);let t=c(()=>Q.url.pathname),l=c(()=>Q.url.hash),p=c(()=>r(t)+r(l)),_=c(()=>r(t).startsWith("/components/layout/service-navigation-nested-mobile/mobile-demo")),u=c(()=>r(t).startsWith("/get-started")?{sectionName:"Get started",sectionHref:"/get-started"}:r(t).startsWith("/components")?{sectionName:"Components",sectionHref:"/components"}:r(t).startsWith("/patterns")?{sectionName:"Patterns",sectionHref:"/patterns"}:r(t).startsWith("/community")?{sectionName:"Community",sectionHref:"/community"}:{sectionName:"Home",sectionHref:"/"}),y=c(()=>r(u).sectionName),M=c(()=>r(u).sectionHref);const v=a.data.componentTree||[],k=v.length>0?v.map(s=>({title:s.name,items:s.children&&s.children.length>0?j(s.children):[]})):[],h=[],w=[],F=[{title:"Setup guides",items:[{text:"About & Benefits",href:"/get-started/about-benefits"},{text:"Installation and usage",href:"/get-started"}]},{title:"Component library usage guides",items:[{text:"Component statuses",href:"/get-started/component-statuses"}]}],S=c(()=>{switch(r(y)){case"Get started":return F;case"Components":return k.map(m=>({...m,items:Ne(m.items,r(t))}));case"Patterns":return h;case"Community":return w;default:return[]}}),I=c(()=>{const s=r(S);return!s||s.length===0?!1:s.some(m=>m.items&&m.items.length>0)}),e=v.length>0?xe(v):[],n=[{title:"Get started",href:"/get-started",items:[{text:"Installation and usage",href:"/get-started"},{text:"About & Benefits",href:"/get-started/about-benefits"},{text:"Component statuses",href:"/get-started/component-statuses"}]},{title:"Components",href:"/components",items:e},{title:"Patterns",href:"/patterns",items:[]},{title:"Community",href:"/community",items:[]}];let o=c(fe);ie(()=>{typeof window>"u"||document.body.classList.add("js-enabled")});var i=q(),X=z(i);{var Y=s=>{var m=ye(),x=g(m),W=g(x);de(W,{});var A=b(W,2);ve(A,{homepageUrl:"/",organisationName:"MHCLG Digital, Data and Information",includeCrest:!1});var B=b(A,2);ge(B,{serviceName:"Svelte Component Library",homeHref:"/",get mobileNavSections(){return n},get activeSectionHref(){return r(M)},get activeDetailHref(){return r(p)}});var O=b(B,2);be(O,{tagText:"Alpha",linkHref:"mailto:dataexplorerfeedback@communities.gov.uk",bannerText:"This service is in development and intended to be production-ready and available for use by the digital community in Autumn 2025",linkText:""});var T=b(O,2);let U;var L=g(T),$=g(L);{var ee=N=>{var D=De(),ne=g(D);const oe=c(()=>r(y));he(ne,{get title(){return r(oe)},get groups(){return r(S)},get currentItem(){return r(p)}}),C(D),H(N,D)};K($,N=>{r(t)!==f+"/"&&r(I)&&N(ee)})}var G=b($,2);let E;var te=g(G);J(te,()=>a.children),C(G),C(L),C(T),C(x);var ae=b(x,2);const re=c(()=>[{href:r(o),label:"Cookies",onclick:pe},{href:"/privacy-policy",label:"Privacy Policy"}]);ue(ae,{get inlineLinks(){return r(re)}}),C(m),me((N,D)=>{U=P(T,1,"app-pane__body svelte-igfkor",null,U,N),P(L,1,ce(r(t)!==f+"/"?"app-split-pane":""),"svelte-igfkor"),E=P(G,1,"svelte-igfkor",null,E,D)},[()=>({"govuk-width-container":r(t)!==f+"/"}),()=>({"app-split-pane__content":r(t)!==f+"/"&&r(I),"app-content":r(t)!==f+"/"})]),H(s,m)},Z=s=>{var m=q(),x=z(m);J(x,()=>a.children),H(s,m)};K(X,s=>{r(_)?s(Z,!1):s(Y)})}H(d,i),le()}export{Ue as component,Oe as universal};
