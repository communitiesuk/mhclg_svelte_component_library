import{b as p}from"../chunks/q7dcbNV6.js";import"../chunks/CWj6FrbW.js";import{p as se,z as d,u as ie,f as W,a as me,x as r,c as b,s as u,r as x,t as le}from"../chunks/DRw07N7P.js";import{c as J,a as M,t as X,s as ce}from"../chunks/Bdkmpx2T.js";import{i as K}from"../chunks/DIhpdVoS.js";import{s as Q}from"../chunks/dbxAgBfZ.js";import{s as P,c as de}from"../chunks/CZFFhi0W.js";import{F as pe}from"../chunks/CExaLlzl.js";import{I as fe}from"../chunks/CdTBpYwh.js";import{S as ue}from"../chunks/RlxSS15x.js";import{S as ve}from"../chunks/BMzIk0a6.js";import{p as R}from"../chunks/BtLeNZqs.js";import{P as he}from"../chunks/BawzQGnX.js";import{f as Y}from"../chunks/lMwbQCpd.js";const ge=!0,be=async c=>{const a=await(await c.fetch(`${p}/data/testData.json`)).json(),e=await(await c.fetch(`${p}/data/svgFontDimensions.json`)).json(),{componentTree:i}=c.data;let f=[...new Set(a.flatMetricData.map(t=>t.metric))],C=[...new Set(a.flatMetricData.map(t=>t.areaCode))],v=[...new Set(a.flatMetricData.map(t=>t.x))],N=f.map(t=>({metric:t,lines:C.map(n=>({areaCode:n,data:a.flatMetricData.filter(o=>o.areaCode===n&&o.metric===t)}))})),w=v.map(t=>({x:t,bars:C.map(n=>{var o;return{areaCode:n,y:(o=a.flatMetricData.filter(m=>m.metric==="Household waste recycling rate").find(m=>m.areaCode===n&&m.x===t))==null?void 0:o.y}})})),h=v.map(t=>({year:t,data:a.flatMetricData.filter(n=>n.x==t).map(n=>({areaCode:n.areaCode,areaName:a.areaCodeLookup[n.areaCode],data:a.flatMetricData.filter(o=>o.x==t&&o.areaCode==n.areaCode).reduce((o,m)=>(o[m.metric]=m.y,o),{})}))})).map(t=>({year:t.year,data:Object.values(t.data.reduce((n,o)=>{const m=`${o.areaCode}_${o.areaName}`;return n[m]||(n[m]=o),n},{}))})),S=a.flatMetricData.map(t=>({...t,y:Math.round(parseFloat(t.y))})).map(t=>({...t,areaName:a.areaCodeLookup[t.areaCode]})).map(({areaCode:t,xLabel:n,...o})=>o).filter(t=>t.x===2022).map(({x:t,...n})=>n),g={};for(let t of S)g[t.areaName]||(g[t.areaName]={areaName:t.areaName}),g[t.areaName][t.metric]=t.y;let F=Object.values(g),T=a.metaData,I=a.indexOfMultipleDeprivation,y=a.deprivationMetaData;return{metrics:f,areas:C,years:v,dataInFormatForLineChart:N,dataInFormatForBarChart:w,dataInFormatForMap:h,dataInFormatForTable:S,tableData:F,areaCodeLookup:a.areaCodeLookup,svgFontDimensions:e,componentTree:i,metaData:T,deprivationData:I,deprivationMetaData:y}},Pe=Object.freeze(Object.defineProperty({__proto__:null,load:be,prerender:ge},Symbol.toStringTag,{value:"Module"}));function A(c){let a=[];for(const e of c)e.hasWrapper&&a.push({text:Y(e.name),href:`/${e.path}`}),!e.hasWrapper&&e.children&&e.children.length>0&&(a=a.concat(A(e.children)));return a}function xe(c){const a=[];return c.forEach(e=>{if(e.hasWrapper)a.push({text:Y(e.name),href:`/${e.path}`});else if(e.children&&e.children.length>0){const i=A(e.children);i.length>0&&a.push({title:e.name,items:i})}}),a}function Ce(c,a){return c.map(e=>{const i=e.href.split("#")[0],f=i===a||e.href===a;return{...e,subItems:f?[{text:"Description",href:`${i}#description`},{text:"Context",href:`${i}#context`},{text:"Component Demo",href:`${i}#component-demo`},{text:"Examples",href:`${i}#examples`}]:e.subItems}})}var _e=X(' <aside class="app-split-pane__nav svelte-igfkor"><!></aside>',1),De=X('<div class="min-h-screen flex flex-col"><div class="flex-grow"><!> <!> <!> <div><div> <!> <div><!></div></div></div></div> <!></div>');function Ae(c,a){se(a,!0);let e=d(()=>R.url.pathname),i=d(()=>R.url.hash),f=d(()=>r(e)+r(i)),C=d(()=>r(e).startsWith("/components/layout/service-navigation-nested-mobile/mobile-demo")),v=d(()=>r(e).startsWith("/get-started")?{sectionName:"Get started",sectionHref:"/get-started"}:r(e).startsWith("/components")?{sectionName:"Components",sectionHref:"/components"}:r(e).startsWith("/patterns")?{sectionName:"Patterns",sectionHref:"/patterns"}:r(e).startsWith("/community")?{sectionName:"Community",sectionHref:"/community"}:{sectionName:"Home",sectionHref:"/"}),N=d(()=>r(v).sectionName),w=d(()=>r(v).sectionHref);const h=a.data.componentTree||[],S=h.length>0?h.map(s=>({title:s.name,items:s.children&&s.children.length>0?A(s.children):[]})):[],g=[],F=[],T=[{title:"Setup guides",items:[{text:"About & Benefits",href:"/get-started/about-benefits"},{text:"Installation and usage",href:"/get-started"}]},{title:"Component library usage guides",items:[{text:"Component statuses",href:"/get-started/component-statuses"}]}],I=d(()=>{switch(r(N)){case"Get started":return T;case"Components":return S.map(l=>({...l,items:Ce(l.items,r(e))}));case"Patterns":return g;case"Community":return F;default:return[]}}),y=d(()=>{const s=r(I);return!s||s.length===0?!1:s.some(l=>l.items&&l.items.length>0)}),t=h.length>0?xe(h):[],n=[{title:"Get started",href:"/get-started",items:[{text:"Installation and usage",href:"/get-started"},{text:"About & Benefits",href:"/get-started/about-benefits"},{text:"Component statuses",href:"/get-started/component-statuses"}]},{title:"Components",href:"/components",items:t},{title:"Patterns",href:"/patterns",items:[]},{title:"Community",href:"/community",items:[]}];ie(()=>{typeof window>"u"||document.body.classList.add("js-enabled")});var o=J(),m=W(o);{var Z=s=>{var l=De(),_=b(l),O=b(_);fe(O,{homepageUrl:"/",organisationName:"MHCLG Digital, Data and Information",includeCrest:!1});var $=u(O,2);ve($,{serviceName:"Svelte Component Library",homeHref:"/",mobileNavSections:n,get activeSectionHref(){return r(w)},get activeDetailHref(){return r(f)}});var B=u($,2);he(B,{tagText:"Alpha",linkHref:"mailto:dataexplorerfeedback@communities.gov.uk",bannerText:"This service is in development and intended to be production-ready and available for use by the digital community in Autumn 2025",linkText:""});var L=u(B,2);let z;var j=b(L),E=b(j),U=u(E);{var te=D=>{var k=_e(),H=W(k);H.nodeValue=`${console.log("hello")??""} `;var q=u(H),ne=b(q);const oe=d(()=>r(N));ue(ne,{get title(){return r(oe)},get groups(){return r(I)},get currentItem(){return r(f)}}),x(q),M(D,k)};K(U,D=>{r(e)!==p+"/"&&r(y)&&D(te)})}var G=u(U,2);let V;var ae=b(G);Q(ae,()=>a.children),x(G),x(j),x(L),x(_);var re=u(_,2);pe(re,{}),x(l),le((D,k,H)=>{z=P(L,1,"app-pane__body svelte-igfkor",null,z,D),P(j,1,de(r(e)!==p+"/"?"app-split-pane":""),"svelte-igfkor"),ce(E,`${k??""} `),V=P(G,1,"svelte-igfkor",null,V,H)},[()=>({"govuk-width-container":r(e)!==p+"/"}),()=>console.log(r(e),p,r(e)!==p+"/"),()=>({"app-split-pane__content":r(e)!==p+"/"&&r(y),"app-content":r(e)!==p+"/"})]),M(s,l)},ee=s=>{var l=J(),_=W(l);Q(_,()=>a.children),M(s,l)};K(m,s=>{r(C)?s(ee,!1):s(Z)})}M(c,o),me()}export{Ae as component,Pe as universal};
