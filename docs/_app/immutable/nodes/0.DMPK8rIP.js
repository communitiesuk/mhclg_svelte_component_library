import{b as ie}from"../chunks/pfl-9TlW.js";import"../chunks/CWj6FrbW.js";import{p as me,c as l,s as _,r as o,t as W,a as ve,f as R,z as r,x as he,y as S,u as pe}from"../chunks/BQOcVDnD.js";import{t as D,a as b,s as A,c as se}from"../chunks/Dp3jeoTR.js";import{i as G}from"../chunks/w59L6Jp2.js";import{s as le}from"../chunks/ByC2DMpr.js";import{a as U,d as de,s as L,c as ge}from"../chunks/CM6Y-JJe.js";import{e as re,i as oe}from"../chunks/hy64cfae.js";import{h as _e}from"../chunks/DfCX0bEM.js";import{p as g}from"../chunks/Bx8udYmP.js";import{I as xe}from"../chunks/BUgpY4ja.js";import{S as ke}from"../chunks/BbJs8Y4x.js";import{S as be}from"../chunks/D_8A1e-l.js";import{p as ce}from"../chunks/Cj0BxRoH.js";import{P as Ce}from"../chunks/B5Q5oFgH.js";import{f as fe}from"../chunks/lMwbQCpd.js";const we=!0,ye=async x=>{const e=await(await x.fetch(`${ie}/data/testData.json`)).json(),a=await(await x.fetch(`${ie}/data/svgFontDimensions.json`)).json(),{componentTree:f}=x.data;let N=[...new Set(e.flatMetricData.map(t=>t.metric))],F=[...new Set(e.flatMetricData.map(t=>t.areaCode))],H=[...new Set(e.flatMetricData.map(t=>t.x))],P=N.map(t=>({metric:t,lines:F.map(n=>({areaCode:n,data:e.flatMetricData.filter(i=>i.areaCode===n&&i.metric===t)}))})),E=H.map(t=>({x:t,bars:F.map(n=>{var i;return{areaCode:n,y:(i=e.flatMetricData.filter(h=>h.metric==="Household waste recycling rate").find(h=>h.areaCode===n&&h.x===t))==null?void 0:i.y}})})),I=H.map(t=>({year:t,data:e.flatMetricData.filter(n=>n.x==t).map(n=>({areaCode:n.areaCode,areaName:e.areaCodeLookup[n.areaCode],data:e.flatMetricData.filter(i=>i.x==t&&i.areaCode==n.areaCode).reduce((i,h)=>(i[h.metric]=h.y,i),{})}))})).map(t=>({year:t.year,data:Object.values(t.data.reduce((n,i)=>{const h=`${i.areaCode}_${i.areaName}`;return n[h]||(n[h]=i),n},{}))})),j=e.flatMetricData.map(t=>({...t,y:Math.round(parseFloat(t.y))})).map(t=>({...t,areaName:e.areaCodeLookup[t.areaCode]})).map(({areaCode:t,xLabel:n,...i})=>i).filter(t=>t.x===2022).map(({x:t,...n})=>n),T={};for(let t of j)T[t.areaName]||(T[t.areaName]={areaName:t.areaName}),T[t.areaName][t.metric]=t.y;let V=Object.values(T),q=e.metaData,B=e.indexOfMultipleDeprivation,O=e.deprivationMetaData;return{metrics:N,areas:F,years:H,dataInFormatForLineChart:P,dataInFormatForBarChart:E,dataInFormatForMap:I,dataInFormatForTable:j,tableData:V,areaCodeLookup:e.areaCodeLookup,svgFontDimensions:a,componentTree:f,metaData:q,deprivationData:B,deprivationMetaData:O}},tt=Object.freeze(Object.defineProperty({__proto__:null,load:ye,prerender:we},Symbol.toStringTag,{value:"Module"}));var De=D('<li class="govuk-footer__list-item"><a class="govuk-footer__link"> </a></li>'),Ne=D('<div><h2 class="govuk-footer__heading govuk-heading-m"> </h2> <ul></ul></div>'),Se=D('<div class="govuk-footer__navigation"></div> <hr class="govuk-footer__section-break">',1),Le=D('<li class="govuk-footer__inline-list-item"><a class="govuk-footer__link"> </a></li>'),He=D('<h2 class="govuk-visually-hidden">Support links</h2> <ul class="govuk-footer__inline-list"></ul>',1),Ie=D('<div class="govuk-footer__meta-custom"><!></div>'),Te=D('<svg aria-hidden="true" focusable="false" class="govuk-footer__licence-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 483.2 195.7" height="17" width="41"><path fill="currentColor"></path></svg> <span class="govuk-footer__licence-description"> <a class="govuk-footer__link" rel="license"> </a> </span>',1),Me=D('<div class="govuk-footer__meta-item"><a class="govuk-footer__link govuk-footer__copyright-logo"> </a></div>'),Fe=D('<footer class="govuk-footer"><div><!> <div class="govuk-footer__meta"><div class="govuk-footer__meta-item govuk-footer__meta-item--grow"><!> <!> <!></div> <!></div></div></footer>');function Ae(x,e){me(e,!0);let a=g(e,"sections",19,()=>[]),f=g(e,"inlineLinks",19,()=>[]),N=g(e,"metaCustomContent",3,""),F=g(e,"containerWidth",3,"govuk-width-container"),H=g(e,"showLicence",3,!0),P=g(e,"showCopyright",3,!0),E=g(e,"copyrightLogoUrl",3,"/assets/images/govuk-crest.svg"),I=g(e,"copyrightText",3,"Â© Crown copyright"),j=g(e,"crownSvgPath",3,"M421.5 142.8V.1l-50.7 32.3v161.1h112.4v-50.7zm-122.3-9.6A47.12 47.12 0 0 1 221 97.8c0-26 21.1-47.1 47.1-47.1 16.7 0 31.4 8.7 39.7 21.8l42.7-27.2A97.63 97.63 0 0 0 268.1 0c-36.5 0-68.3 20.1-85.1 49.7A98 98 0 0 0 97.8 0C43.9 0 0 43.9 0 97.8s43.9 97.8 97.8 97.8c36.5 0 68.3-20.1 85.1-49.7a97.76 97.76 0 0 0 149.6 25.4l19.4 22.2h3v-87.8h-80l24.3 27.5zM97.8 145c-26 0-47.1-21.1-47.1-47.1s21.1-47.1 47.1-47.1 47.2 21 47.2 47S123.8 145 97.8 145"),T=g(e,"licenceHref",3,"https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/"),V=g(e,"licenceLinkText",3,"Open Government Licence v3.0"),q=g(e,"licenceTextBefore",3,"All content is available under the "),B=g(e,"licenceTextAfter",3,", except where otherwise stated"),O=g(e,"copyrightHref",3,"https://www.nationalarchives.gov.uk/information-management/re-using-public-sector-information/uk-government-licensing-framework/crown-copyright/");var t=Fe(),n=l(t),i=l(n);{var h=s=>{var m=Se(),v=R(m);re(v,21,a,oe,(C,u)=>{var k=Ne(),d=l(k),w=l(d,!0);o(d);var y=_(d,2);re(y,21,()=>r(u).items,oe,(te,z)=>{var ae=De(),Q=l(ae),ue=l(Q,!0);o(Q),o(ae),W(()=>{L(Q,"href",r(z).href),L(Q,"lang",r(z).lang),L(Q,"hreflang",r(z).hrefLang),A(ue,r(z).label)}),b(te,ae)}),o(y),o(k),W(()=>{U(k,1,`govuk-footer__section ${(r(u).columns===2?"govuk-grid-column-two-thirds":"govuk-grid-column-one-third")??""}`),A(w,r(u).title),U(y,1,`govuk-footer__list ${(r(u).columns===2?"govuk-footer__list--columns-2":"")??""}`)}),b(C,k)}),o(v),he(2),b(s,m)};G(i,s=>{a().length>0&&s(h)})}var X=_(i,2),J=l(X),c=l(J);{var p=s=>{var m=He(),v=_(R(m),2);re(v,21,f,oe,(C,u)=>{var k=Le(),d=l(k),w=l(d,!0);o(d),o(k),W(()=>{L(d,"href",r(u).href),L(d,"lang",r(u).lang),L(d,"hreflang",r(u).hrefLang),A(w,r(u).label)}),b(C,k)}),o(v),b(s,m)};G(c,s=>{f().length>0&&s(p)})}var M=_(c,2);{var Y=s=>{var m=Ie(),v=l(m);_e(v,N),o(m),b(s,m)};G(M,s=>{N()&&s(Y)})}var Z=_(M,2);{var $=s=>{var m=Te(),v=R(m),C=l(v);o(v);var u=_(v,2),k=l(u),d=_(k),w=l(d,!0);o(d);var y=_(d,1,!0);o(u),W(()=>{L(C,"d",j()),A(k,`${q()??""} `),L(d,"href",T()),A(w,V()),A(y,B())}),b(s,m)};G(Z,s=>{H()&&s($)})}o(J);var K=_(J,2);{var ee=s=>{var m=Me(),v=l(m),C=l(v,!0);o(v),o(m),W(()=>{L(v,"href",O()),ge(v,`background-image: url(${E()??""});`),A(C,I())}),b(s,m)};G(K,s=>{P()&&s(ee)})}o(X),o(n),o(t),W(()=>U(n,1,de(F()))),b(x,t),ve()}function ne(x){let e=[];for(const a of x)a.hasWrapper&&e.push({text:fe(a.name),href:`/${a.path}`}),!a.hasWrapper&&a.children&&a.children.length>0&&(e=e.concat(ne(a.children)));return e}function We(x){const e=[];return x.forEach(a=>{if(a.hasWrapper)e.push({text:fe(a.name),href:`/${a.path}`});else if(a.children&&a.children.length>0){const f=ne(a.children);f.length>0&&e.push({title:a.name,items:f})}}),e}function Ge(x,e){return x.map(a=>{const f=a.href.split("#")[0],N=f===e||a.href===e;return{...a,subItems:N?[{text:"Description",href:`${f}#description`},{text:"Context",href:`${f}#context`},{text:"Component Demo",href:`${f}#component-demo`},{text:"Examples",href:`${f}#examples`}]:a.subItems}})}var Pe=D('<aside class="app-split-pane__nav svelte-igfkor"><!></aside>'),je=D('<div class="min-h-screen flex flex-col"><div class="flex-grow"><!> <!> <!> <div><div><!> <div><!></div></div></div></div> <!></div>');function at(x,e){me(e,!0);let a=S(()=>ce.url.pathname),f=S(()=>ce.url.hash),N=S(()=>r(a)+r(f)),F=S(()=>r(a).startsWith("/components/layout/service-navigation-nested-mobile/mobile-demo")),H=S(()=>r(a).startsWith("/get-started")?{sectionName:"Get started",sectionHref:"/get-started"}:r(a).startsWith("/components")?{sectionName:"Components",sectionHref:"/components"}:r(a).startsWith("/patterns")?{sectionName:"Patterns",sectionHref:"/patterns"}:r(a).startsWith("/community")?{sectionName:"Community",sectionHref:"/community"}:{sectionName:"Home",sectionHref:"/"}),P=S(()=>r(H).sectionName),E=S(()=>r(H).sectionHref);const I=e.data.componentTree||[],j=I.length>0?I.map(c=>({title:c.name,items:c.children&&c.children.length>0?ne(c.children):[]})):[],T=[],V=[],q=[{title:"Setup guides",items:[{text:"About & Benefits",href:"/get-started/about-benefits"},{text:"Installation and usage",href:"/get-started"}]},{title:"Component library usage guides",items:[{text:"Component statuses",href:"/get-started/component-statuses"}]}],B=S(()=>{switch(r(P)){case"Get started":return q;case"Components":return j.map(p=>({...p,items:Ge(p.items,r(a))}));case"Patterns":return T;case"Community":return V;default:return[]}}),O=S(()=>{const c=r(B);return!c||c.length===0?!1:c.some(p=>p.items&&p.items.length>0)}),t=I.length>0?We(I):[],n=[{title:"Get started",href:"/get-started",items:[{text:"Installation and usage",href:"/get-started"},{text:"About & Benefits",href:"/get-started/about-benefits"},{text:"Component statuses",href:"/get-started/component-statuses"}]},{title:"Components",href:"/components",items:t},{title:"Patterns",href:"/patterns",items:[]},{title:"Community",href:"/community",items:[]}];pe(()=>{typeof window>"u"||document.body.classList.add("js-enabled")});var i=se(),h=R(i);{var X=c=>{var p=je(),M=l(p),Y=l(M);xe(Y,{homepageUrl:"/",organisationName:"MHCLG Digital, Data and Information",includeCrest:!1});var Z=_(Y,2);be(Z,{serviceName:"Svelte Component Library",homeHref:"/",mobileNavSections:n,get activeSectionHref(){return r(E)},get activeDetailHref(){return r(N)}});var $=_(Z,2);Ce($,{tagText:"Alpha",linkHref:"mailto:dataexplorerfeedback@communities.gov.uk",bannerText:"This service is in development and intended to be production-ready and available for use by the digital community in Autumn 2025",linkText:""});var K=_($,2);let ee;var s=l(K),m=l(s);{var v=w=>{var y=Pe(),te=l(y);const z=S(()=>r(P));ke(te,{get title(){return r(z)},get groups(){return r(B)},get currentItem(){return r(N)}}),o(y),b(w,y)};G(m,w=>{r(a)!=="/"&&r(O)&&w(v)})}var C=_(m,2);let u;var k=l(C);le(k,()=>e.children),o(C),o(s),o(K),o(M);var d=_(M,2);Ae(d,{}),o(p),W((w,y)=>{ee=U(K,1,"app-pane__body svelte-igfkor",null,ee,w),U(s,1,de(r(a)!=="/"?"app-split-pane":""),"svelte-igfkor"),u=U(C,1,"svelte-igfkor",null,u,y)},[()=>({"govuk-width-container":r(a)!=="/"}),()=>({"app-split-pane__content":r(a)!=="/"&&r(O),"app-content":r(a)!=="/"})]),b(c,p)},J=c=>{var p=se(),M=R(p);le(M,()=>e.children),b(c,p)};G(h,c=>{r(F)?c(J,!1):c(X)})}b(x,i),ve()}export{at as component,tt as universal};
