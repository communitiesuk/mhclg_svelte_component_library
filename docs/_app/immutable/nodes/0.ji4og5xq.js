import{d as C}from"../chunks/BemEwKb8.js";import"../chunks/CWj6FrbW.js";import{p as me,c as l,s as _,r as o,t as W,a as ve,f as X,G as r,x as he,F as L,u as pe}from"../chunks/Cp2qfsB-.js";import{t as N,a as k,c as se}from"../chunks/R2PrfaHS.js";import{i as P}from"../chunks/B50VFNeR.js";import{s as le}from"../chunks/B2Z6IM-T.js";import{a as E,d as de,s as T,b as ge}from"../chunks/DzqlWAzk.js";import{s as G}from"../chunks/Df23Nigv.js";import{e as oe,i as ne}from"../chunks/FoQIP_hg.js";import{h as _e}from"../chunks/BdaZPZI9.js";import{p as g}from"../chunks/ClzGr448.js";import{I as xe}from"../chunks/C9GxRLUO.js";import{S as be}from"../chunks/Ouoip9Y5.js";import{S as ke}from"../chunks/c8Vr1hF1.js";import{p as ce}from"../chunks/D0uMktHg.js";import{P as Ce}from"../chunks/C_n3O8X9.js";import{f as ue}from"../chunks/lMwbQCpd.js";const we=!0,ye=async x=>{const e=await(await x.fetch(`${C}/data/testData.json`)).json(),a=await(await x.fetch(`${C}/data/svgFontDimensions.json`)).json(),{componentTree:u}=x.data;let S=[...new Set(e.flatMetricData.map(t=>t.metric))],A=[...new Set(e.flatMetricData.map(t=>t.areaCode))],H=[...new Set(e.flatMetricData.map(t=>t.x))],j=S.map(t=>({metric:t,lines:A.map(n=>({areaCode:n,data:e.flatMetricData.filter(i=>i.areaCode===n&&i.metric===t)}))})),V=H.map(t=>({x:t,bars:A.map(n=>{var i;return{areaCode:n,y:(i=e.flatMetricData.filter(h=>h.metric==="Household waste recycling rate").find(h=>h.areaCode===n&&h.x===t))==null?void 0:i.y}})})),I=H.map(t=>({year:t,data:e.flatMetricData.filter(n=>n.x==t).map(n=>({areaCode:n.areaCode,areaName:e.areaCodeLookup[n.areaCode],data:e.flatMetricData.filter(i=>i.x==t&&i.areaCode==n.areaCode).reduce((i,h)=>(i[h.metric]=h.y,i),{})}))})).map(t=>({year:t.year,data:Object.values(t.data.reduce((n,i)=>{const h=`${i.areaCode}_${i.areaName}`;return n[h]||(n[h]=i),n},{}))})),B=e.flatMetricData.map(t=>({...t,y:Math.round(parseFloat(t.y))})).map(t=>({...t,areaName:e.areaCodeLookup[t.areaCode]})).map(({areaCode:t,xLabel:n,...i})=>i).filter(t=>t.x===2022).map(({x:t,...n})=>n),M={};for(let t of B)M[t.areaName]||(M[t.areaName]={areaName:t.areaName}),M[t.areaName][t.metric]=t.y;let q=Object.values(M),J=e.metaData,O=e.indexOfMultipleDeprivation,z=e.deprivationMetaData;return{metrics:S,areas:A,years:H,dataInFormatForLineChart:j,dataInFormatForBarChart:V,dataInFormatForMap:I,dataInFormatForTable:B,tableData:q,areaCodeLookup:e.areaCodeLookup,svgFontDimensions:a,componentTree:u,metaData:J,deprivationData:O,deprivationMetaData:z}},at=Object.freeze(Object.defineProperty({__proto__:null,load:ye,prerender:we},Symbol.toStringTag,{value:"Module"}));var De=N('<li class="govuk-footer__list-item"><a class="govuk-footer__link"> </a></li>'),Ne=N('<div><h2 class="govuk-footer__heading govuk-heading-m"> </h2> <ul></ul></div>'),Se=N('<div class="govuk-footer__navigation"></div> <hr class="govuk-footer__section-break">',1),Le=N('<li class="govuk-footer__inline-list-item"><a class="govuk-footer__link"> </a></li>'),Te=N('<h2 class="govuk-visually-hidden">Support links</h2> <ul class="govuk-footer__inline-list"></ul>',1),He=N('<div class="govuk-footer__meta-custom"><!></div>'),Ie=N('<svg aria-hidden="true" focusable="false" class="govuk-footer__licence-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 483.2 195.7" height="17" width="41"><path fill="currentColor"></path></svg> <span class="govuk-footer__licence-description"> <a class="govuk-footer__link" rel="license"> </a> </span>',1),Me=N('<div class="govuk-footer__meta-item"><a class="govuk-footer__link govuk-footer__copyright-logo"> </a></div>'),Fe=N('<footer class="govuk-footer"><div><!> <div class="govuk-footer__meta"><div class="govuk-footer__meta-item govuk-footer__meta-item--grow"><!> <!> <!></div> <!></div></div></footer>');function Ae(x,e){me(e,!0);let a=g(e,"sections",19,()=>[]),u=g(e,"inlineLinks",19,()=>[]),S=g(e,"metaCustomContent",3,""),A=g(e,"containerWidth",3,"govuk-width-container"),H=g(e,"showLicence",3,!0),j=g(e,"showCopyright",3,!0),V=g(e,"copyrightLogoUrl",3,"/assets/images/govuk-crest.svg"),I=g(e,"copyrightText",3,"Â© Crown copyright"),B=g(e,"crownSvgPath",3,"M421.5 142.8V.1l-50.7 32.3v161.1h112.4v-50.7zm-122.3-9.6A47.12 47.12 0 0 1 221 97.8c0-26 21.1-47.1 47.1-47.1 16.7 0 31.4 8.7 39.7 21.8l42.7-27.2A97.63 97.63 0 0 0 268.1 0c-36.5 0-68.3 20.1-85.1 49.7A98 98 0 0 0 97.8 0C43.9 0 0 43.9 0 97.8s43.9 97.8 97.8 97.8c36.5 0 68.3-20.1 85.1-49.7a97.76 97.76 0 0 0 149.6 25.4l19.4 22.2h3v-87.8h-80l24.3 27.5zM97.8 145c-26 0-47.1-21.1-47.1-47.1s21.1-47.1 47.1-47.1 47.2 21 47.2 47S123.8 145 97.8 145"),M=g(e,"licenceHref",3,"https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/"),q=g(e,"licenceLinkText",3,"Open Government Licence v3.0"),J=g(e,"licenceTextBefore",3,"All content is available under the "),O=g(e,"licenceTextAfter",3,", except where otherwise stated"),z=g(e,"copyrightHref",3,"https://www.nationalarchives.gov.uk/information-management/re-using-public-sector-information/uk-government-licensing-framework/crown-copyright/");var t=Fe(),n=l(t),i=l(n);{var h=s=>{var m=Se(),v=X(m);oe(v,21,a,ne,(w,f)=>{var b=Ne(),d=l(b),y=l(d,!0);o(d);var D=_(d,2);oe(D,21,()=>r(f).items,ne,(ae,U)=>{var re=De(),R=l(re),fe=l(R,!0);o(R),o(re),W(()=>{T(R,"href",r(U).href),T(R,"lang",r(U).lang),T(R,"hreflang",r(U).hrefLang),G(fe,r(U).label)}),k(ae,re)}),o(D),o(b),W(()=>{E(b,1,`govuk-footer__section ${(r(f).columns===2?"govuk-grid-column-two-thirds":"govuk-grid-column-one-third")??""}`),G(y,r(f).title),E(D,1,`govuk-footer__list ${(r(f).columns===2?"govuk-footer__list--columns-2":"")??""}`)}),k(w,b)}),o(v),he(2),k(s,m)};P(i,s=>{a().length>0&&s(h)})}var Y=_(i,2),K=l(Y),c=l(K);{var p=s=>{var m=Te(),v=_(X(m),2);oe(v,21,u,ne,(w,f)=>{var b=Le(),d=l(b),y=l(d,!0);o(d),o(b),W(()=>{T(d,"href",r(f).href),T(d,"lang",r(f).lang),T(d,"hreflang",r(f).hrefLang),G(y,r(f).label)}),k(w,b)}),o(v),k(s,m)};P(c,s=>{u().length>0&&s(p)})}var F=_(c,2);{var Z=s=>{var m=He(),v=l(m);_e(v,S),o(m),k(s,m)};P(F,s=>{S()&&s(Z)})}var $=_(F,2);{var ee=s=>{var m=Ie(),v=X(m),w=l(v);o(v);var f=_(v,2),b=l(f),d=_(b),y=l(d,!0);o(d);var D=_(d,1,!0);o(f),W(()=>{T(w,"d",B()),G(b,`${J()??""} `),T(d,"href",M()),G(y,q()),G(D,O())}),k(s,m)};P($,s=>{H()&&s(ee)})}o(K);var Q=_(K,2);{var te=s=>{var m=Me(),v=l(m),w=l(v,!0);o(v),o(m),W(()=>{T(v,"href",z()),ge(v,`background-image: url(${V()??""});`),G(w,I())}),k(s,m)};P(Q,s=>{j()&&s(te)})}o(Y),o(n),o(t),W(()=>E(n,1,de(A()))),k(x,t),ve()}function ie(x){let e=[];for(const a of x)a.hasWrapper&&e.push({text:ue(a.name),href:`/${a.path}`}),!a.hasWrapper&&a.children&&a.children.length>0&&(e=e.concat(ie(a.children)));return e}function Ge(x){const e=[];return x.forEach(a=>{if(a.hasWrapper)e.push({text:ue(a.name),href:`/${a.path}`});else if(a.children&&a.children.length>0){const u=ie(a.children);u.length>0&&e.push({title:a.name,items:u})}}),e}function We(x,e){return x.map(a=>{const u=a.href.split("#")[0],S=u===e||a.href===e;return{...a,subItems:S?[{text:"Description",href:`${u}#description`},{text:"Context",href:`${u}#context`},{text:"Component Demo",href:`${u}#component-demo`},{text:"Examples",href:`${u}#examples`}]:a.subItems}})}var Pe=N('<aside class="app-split-pane__nav svelte-1etvhb2"><!></aside>'),je=N('<div class="min-h-screen flex flex-col"><div class="flex-grow"><!> <!> <!> <div><div><!> <div><!></div></div></div></div> <!></div>');function rt(x,e){me(e,!0);let a=L(()=>ce.url.pathname),u=L(()=>ce.url.hash),S=L(()=>r(a)+r(u)),A=L(()=>r(a).startsWith("/components/layout/service-navigation-nested-mobile/mobile-demo")),H=L(()=>r(a).startsWith("/get-started")?{sectionName:"Get started",sectionHref:"/get-started"}:r(a).startsWith("/components")?{sectionName:"Components",sectionHref:"/components"}:r(a).startsWith("/patterns")?{sectionName:"Patterns",sectionHref:"/patterns"}:r(a).startsWith("/community")?{sectionName:"Community",sectionHref:"/community"}:{sectionName:"Home",sectionHref:"/"}),j=L(()=>r(H).sectionName),V=L(()=>r(H).sectionHref);const I=e.data.componentTree||[],B=I.length>0?I.map(c=>({title:c.name,items:c.children&&c.children.length>0?ie(c.children):[]})):[],M=[],q=[],J=[{title:"Setup guides",items:[{text:"About & Benefits",href:`${C}/get-started/about-benefits`},{text:"Installation and usage",href:`${C}/get-started`}]},{title:"Component library usage guides",items:[{text:"Component statuses",href:`${C}/get-started/component-statuses`}]}],O=L(()=>{switch(r(j)){case"Get started":return J;case"Components":return B.map(p=>({...p,items:We(p.items,r(a))}));case"Patterns":return M;case"Community":return q;default:return[]}}),z=L(()=>{const c=r(O);return!c||c.length===0?!1:c.some(p=>p.items&&p.items.length>0)}),t=I.length>0?Ge(I):[],n=[{title:"Get started",href:`${C}/get-started`,items:[{text:"Installation and usage",href:`${C}/get-started`},{text:"About & Benefits",href:`${C}/get-started/about-benefits`},{text:"Component statuses",href:`${C}/get-started/component-statuses`}]},{title:"Components",href:`${C}/components`,items:t},{title:"Patterns",href:`${C}/patterns`,items:[]},{title:"Community",href:`${C}/community`,items:[]}];pe(()=>{typeof window>"u"||document.body.classList.add("js-enabled")});var i=se(),h=X(i);{var Y=c=>{var p=je(),F=l(p),Z=l(F);xe(Z,{homepageUrl:"/",organisationName:"MHCLG Digital Design & Development Team"});var $=_(Z,2);ke($,{serviceName:"Svelte Component Library",homeHref:"/",mobileNavSections:n,get activeSectionHref(){return r(V)},get activeDetailHref(){return r(S)}});var ee=_($,2);Ce(ee,{tagText:"Alpha",linkHref:"mailto:dataexplorerfeedback@communities.gov.uk",bannerText:"This service is in development and intended to be production-ready and available for use by the digital community in Autumn 2025",linkText:""});var Q=_(ee,2);let te;var s=l(Q),m=l(s);{var v=y=>{var D=Pe(),ae=l(D);const U=L(()=>r(j));be(ae,{get title(){return r(U)},get groups(){return r(O)},get currentItem(){return r(S)}}),o(D),k(y,D)};P(m,y=>{r(a)!=="/"&&r(z)&&y(v)})}var w=_(m,2);let f;var b=l(w);le(b,()=>e.children),o(w),o(s),o(Q),o(F);var d=_(F,2);Ae(d,{}),o(p),W((y,D)=>{te=E(Q,1,"app-pane__body svelte-1etvhb2",null,te,y),E(s,1,de(r(a)!=="/"?"app-split-pane":""),"svelte-1etvhb2"),f=E(w,1,"svelte-1etvhb2",null,f,D)},[()=>({"govuk-width-container":r(a)!=="/"}),()=>({"app-split-pane__content":r(a)!=="/"&&r(z),"app-content":r(a)!=="/"})]),k(c,p)},K=c=>{var p=se(),F=X(p);le(F,()=>e.children),k(c,p)};P(h,c=>{r(A)?c(K,!1):c(Y)})}k(x,i),ve()}export{rt as component,at as universal};
