const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./s2DVK_y1.js","./CWj6FrbW.js","./DRw07N7P.js","./DIeogL5L.js","./Bdkmpx2T.js","./IJyiWNRp.js","./BVZoJ1_j.js","./DIhpdVoS.js","./Dsl0KG63.js","./D1Z9diki.js","./CZFFhi0W.js","./BnT0yqBU.js","./69_IOA4Y.js","./CEclhm_N.js","./BDiFQUq5.js","./8GUQALt3.js","./dDcDF3j6.js","./W-Zz3lC9.js","./lMwbQCpd.js","../assets/BaseNameAndStatus.qS4sRJj_.css","./Bedb0N-d.js","./DeUpV864.js","./dbxAgBfZ.js","./Bk9Y71VT.js","./DW6qITre.js","./D76pUMJJ.js","./C1FmrZbK.js","../assets/trackVisibleParameters.BLq838N2.css","./uAKDnRCH.js","./Bcd31h8w.js","./ipR6TnRX.js","./B6jcI_mc.js","./CxixCTrK.js","../assets/Button.DsESe_J9.css","../assets/TabsWrapper.BOkE23vb.css","./DACt2cVk.js","./CDMSbYe_.js","./CAeq2BZ6.js","./2OmiWHu2.js","../assets/MapWrapper.CU7cEVVh.css"])))=>i.map(i=>d[i]);
import"./CWj6FrbW.js";import{p as de,z as D,c as n,x as t,r as i,t as X,a as me,G as te,f as j,s as g,I as Y,y as Te,D as se,a9 as ue,u as qe}from"./DRw07N7P.js";import{t as y,a as f,c as be,s as ae}from"./Bdkmpx2T.js";import{i as ne}from"./DIhpdVoS.js";import{W as Be,P as je,C as Le,B as Ie,a as De,t as Fe,c as Ue,k as Re}from"./Bedb0N-d.js";import{e as ze,d as He,b as Me}from"./CZFFhi0W.js";import{p,r as We,s as _e}from"./IJyiWNRp.js";import{a as Je,B as Ge,d as Xe}from"./BVZoJ1_j.js";import{p as Ye}from"./uAKDnRCH.js";import{k as Ke}from"./lMwbQCpd.js";import{_ as ve}from"./C1FmrZbK.js";import{b as Ze}from"./8GUQALt3.js";import{o as Qe}from"./dDcDF3j6.js";import{S as $e,c as et}from"./Djv9naoS.js";import{e as tt,i as ot}from"./Dsl0KG63.js";import{s as rt}from"./dbxAgBfZ.js";import{A as at,a as st}from"./ipR6TnRX.js";import"./69_IOA4Y.js";import{e as nt}from"./B598B7O2.js";import{C as H}from"./D76pUMJJ.js";const it="data:image/svg+xml,%3csvg%20width='20'%20height='40'%20viewBox='0%20-10%2020%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.902%2014.4681C12.3859%2014.4681%2015.2102%2011.6438%2015.2102%208.15981C15.2102%204.67586%2012.3859%201.85156%208.902%201.85156C5.41805%201.85156%202.59375%204.67586%202.59375%208.15981C2.59375%2011.6438%205.41805%2014.4681%208.902%2014.4681Z'%20stroke='%23505a5f'%20stroke-width='2'/%3e%3cpath%20d='M13.2344%2012.8584L19.5904%2019.2144'%20stroke='%23505a5f'%20stroke-width='2'/%3e%3c/svg%3e";var lt=y("<div><!></div>");function z(v,e){de(e,!0);let a=Q=>Q,h=p(e,"options",3,void 0),b=p(e,"source_url",3,void 0),T=p(e,"source_key",3,void 0),L=p(e,"source_property",3,void 0),N=p(e,"size",3,""),W=p(e,"on_govuk_blue",3,!1),I=p(e,"homepage",3,!1),oe=p(e,"outerClasses",3,""),q=p(e,"outerDataAttributes",19,()=>({})),E=p(e,"name",3,"q"),A=p(e,"label_text",3,"Search"),r=p(e,"button_text",3,"Search"),C=p(e,"minLength",3,3),x=p(e,"confirmOnBlur",3,!1),P=p(e,"showNoOptionsFound",3,!0),B=p(e,"defaultValue",3,""),w=p(e,"placeholder",3,""),l=p(e,"required",3,!1),c=p(e,"tNoResults",3,()=>"No results found"),m=p(e,"tAssistiveHint",3,()=>"When autocomplete results are available use up and down arrows to review and enter to select. Touch device users, explore by touch or with swipe gestures."),V=p(e,"menuAttributes",19,()=>({})),d=p(e,"menuClasses",3,""),k=p(e,"hint",3,void 0),F=p(e,"selectedValue",15),U=We(e,["$$slots","$$events","$$legacy","options","source_url","source_key","source_property","size","on_govuk_blue","homepage","outerClasses","outerDataAttributes","id","name","label_text","button_text","minLength","confirmOnBlur","showNoOptionsFound","defaultValue","placeholder","required","tNoResults","tAssistiveHint","menuAttributes","menuClasses","hint","selectedValue"]),s,K=null;const M=D(()=>ze("gem-c-search-with-autocomplete",N()==="large"&&"gem-c-search-with-autocomplete--large",(W()||I())&&"gem-c-search-with-autocomplete--on-govuk-blue",oe())),Z=D(()=>({...U,label_text:A(),button_text:r(),id:e.id,name:E(),inline_label:!1,size:N(),on_govuk_blue:W(),homepage:I(),hint:k(),value:void 0}));function ie(Q){return`Enter ${Q} or more characters for suggestions`}Qe(async()=>{{a=(await ve(async()=>{const{default:o}=await import("./s2DVK_y1.js").then(_=>_.p);return{default:o}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34]),import.meta.url)).default.sanitize;const Se=(await ve(async()=>{const{default:o}=await import("./DACt2cVk.js").then(_=>_.a);return{default:o}},__vite__mapDeps([35,36,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,37,38,39]),import.meta.url)).default,ce=s==null?void 0:s.querySelector(".js-search-input-wrapper"),$=s==null?void 0:s.querySelector('input[type="search"]');if(!ce||!$){console.error("SearchAutocomplete: Could not find target elements for initialisation.");return}const ke=(o,_)=>{if(!b()||!T()){console.error("SearchAutocomplete: source_url and source_key are required for API mode."),_([]);return}const O=new URL(b());O.searchParams.set("q",o),fetch(O,{headers:{Accept:"application/json"}}).then(u=>{if(!u.ok)throw new Error(`HTTP error! status: ${u.status}`);return u.json()}).then(u=>{const R=u[T()]||[];if(!Array.isArray(R)){console.error("SearchAutocomplete: Source key did not return an array."),_([]);return}_(R.map(S=>{if(typeof S=="string")return S;if(S&&typeof S=="object"){if(L()&&L()in S)return String(S[L()]);if("label"in S)return String(S.label);if("postcode"in S)return String(S.postcode);console.warn("SearchAutocomplete: Could not find 'label', 'postcode', or specified 'source_property' in object:",S)}return String(S??"")}))}).catch(u=>{console.error("SearchAutocomplete: Error fetching results:",u),_([])})},xe=(o,_)=>{if(!h()){_([]);return}const O=o.toLowerCase(),u=h().filter(R=>(typeof R=="string"?R:R.label).toLowerCase().includes(O));_(u)},Ce=Array.isArray(h())&&h().length>0?xe:ke,Oe=o=>{var fe;const _=typeof o=="string"?o:o.label,O=document.createElement("div");O.textContent=_;const u=a(O.innerHTML),R=s==null?void 0:s.querySelector(".gem-c-search-with-autocomplete__input"),S=((fe=R==null?void 0:R.value)==null?void 0:fe.toLowerCase())||"",re=S?u.toLowerCase().indexOf(S):-1;let ge=u;if(S&&re!==-1){const Ve=u.slice(0,re),Ee=u.slice(re,re+S.length),Pe=u.slice(re+S.length);ge=`${Ve}<mark class="gem-c-search-with-autocomplete__suggestion-highlight">${Ee}</mark>${Pe}`}return`
          <div class="gem-c-search-with-autocomplete__option-wrapper">
            <span class="gem-c-search-with-autocomplete__suggestion-icon"></span>
            <span class="gem-c-search-with-autocomplete__suggestion-text">${ge}</span>
          </div>
        `},pe=o=>o===void 0?"":typeof o=="string"?o:o.label;let ee=!1;const Ne=o=>{if(o===void 0||ee)return;F(typeof o=="string"?o:o.value);const _=K==null?void 0:K.inputElement,O=s==null?void 0:s.closest("form");!_||!O||(ee=!0,_.value=pe(o),_.dataset.autocompleteAccepted="true",O.requestSubmit?O.requestSubmit():O.submit(),setTimeout(()=>{ee=!1},500))};K=Se({element:ce,id:$.id,name:$.name,inputClasses:$.classList,source:Ce,minLength:C(),confirmOnBlur:x(),showNoOptionsFound:P(),defaultValue:B(),placeholder:w(),required:l(),tNoResults:c(),tAssistiveHint:m(),menuAttributes:V(),menuClasses:d(),tStatusQueryTooShort:ie,displayMenu:"overlay",cssNamespace:"gem-c-search-with-autocomplete",onConfirm:Ne,templates:{suggestion:Oe,inputValue:pe}});const G=s==null?void 0:s.querySelector(".gem-c-search-with-autocomplete__input");if(G){const o=s.querySelector(".gem-c-search-with-autocomplete__menu");G.addEventListener("input",()=>{var O;const _=G.value;if((O=o==null?void 0:o.querySelector(".gem-c-search-with-autocomplete__option--too-short"))==null||O.remove(),_.length<C()){G.setAttribute("aria-expanded","true"),o==null||o.classList.add("gem-c-search-with-autocomplete__menu--visible"),o==null||o.classList.remove("gem-c-search-with-autocomplete__menu--hidden");const u=document.createElement("li");u.className="gem-c-search-with-autocomplete__option gem-c-search-with-autocomplete__option--too-short",u.setAttribute("role","option"),u.setAttribute("aria-disabled","true"),u.textContent=ie(C()),o==null||o.prepend(u)}}),G.setAttribute("type","search"),G.addEventListener("keydown",_=>{if(ee)return;if(G.getAttribute("aria-expanded")==="true"&&_.key==="Enter"){const u=s==null?void 0:s.closest("form");u&&(ee=!0,u.requestSubmit?u.requestSubmit():u.submit(),setTimeout(()=>{ee=!1},500))}})}$&&$.remove();const he=ce.querySelector("label");he&&he.remove()}});var J=lt();let le;var Ae=n(J);$e(Ae,_e(()=>t(Z))),i(J),Ze(J,Q=>s=Q,()=>s),X(()=>le=He(J,le,{class:t(M),"data-module":"gem-search-with-autocomplete","data-source-url":b(),"data-source-key":T(),"data-source-property":L(),...q(),style:`--suggestion-icon: url("${it}"); --cancel-icon: url("${et}")`})),f(v,J),me()}const ct=`
<script>
  import SearchAutocomplete from '$lib/components/ui/SearchAutocomplete.svelte';
<\/script>

<SearchAutocomplete
  options={['Apple', 'Banana', 'Cherry', 'Date', 'Elderberry']}
  placeholder="Type a fruit..."
/>`,ut=`
<script>
  import SearchAutocomplete from '$lib/components/ui/SearchAutocomplete.svelte';
<\/script>

<SearchAutocomplete
  source_url="https://api.postcodes.io/postcodes"
  source_key="result" // Assumes results are under 'result' key
  source_property="postcode"
  placeholder="Enter postcode query..."
  minLength={1}
  tNoResults={() => "No matching postcodes found"}
/>`,dt=`
<script>
  import SearchAutocomplete from '$lib/components/ui/SearchAutocomplete.svelte';
<\/script>

<SearchAutocomplete
  options={['Alpha', 'Beta', 'Gamma', 'Delta']}
  minLength={1}
  placeholder="Start typing (min 1)..."
/>`,mt=`
<script>
  import SearchAutocomplete from '$lib/components/ui/SearchAutocomplete.svelte';
<\/script>

<SearchAutocomplete
  options={['X', 'Y', 'Z']}
  tNoResults={() => 'Sorry, no matches found'}
/>`,pt=`
<script>
  import SearchAutocomplete from '$lib/components/ui/SearchAutocomplete.svelte';
<\/script>

<SearchAutocomplete
  options={[
    { label: 'Apple', value: 'fruit_a' },
    { label: 'Banana', value: 'fruit_b' },
    { label: 'Cherry', value: 'fruit_c' },
  ]}
  placeholder="Select a fruit object..."
/>`,ht=`
<script>
  import SearchAutocomplete from '$lib/components/ui/SearchAutocomplete.svelte';
<\/script>

<SearchAutocomplete
  options={['One', 'Two', 'Three']}
  defaultValue="Two"
  confirmOnBlur={true}
  placeholder="Confirm on blur..."
/>`,gt=`
<script lang="ts">
  import SearchAutocomplete from '$lib/components/ui/SearchAutocomplete.svelte';

  let demoSelectedAutocompleteValue: string | null = $state(null); // Initialise as null
<\/script>

<div class="mt-4">
  <SearchAutocomplete
    label_text="Select a country"
    options={[
      { label: "United States of America", value: "USA" },
      { label: "Canada", value: "CAN" },
      { label: "Mexico", value: "MEX" },
      { label: "United Kingdom", value: "GBR" },
    ]}
    bind:selectedValue={demoSelectedAutocompleteValue}
    placeholder="Start typing a country name..."
  />
</div>

{#if demoSelectedAutocompleteValue !== null}
  <p class="govuk-body mt-4">
    Confirmed selected value: {demoSelectedAutocompleteValue}
  </p>
{:else}
   <p class="govuk-body mt-4 text-gray-500">
    No value selected yet.
  </p>
{/if}
`,ft=`
<script lang="ts">
  import SearchAutocomplete from '$lib/components/ui/SearchAutocomplete.svelte';
  let { form } = $props(); // Accept form prop from parent (form request processed by server +page.server.ts)
<\/script>

<form method="POST" class="govuk-form-group">
  <SearchAutocomplete
    name="search"
    options={[
      { label: "United States of America", value: "USA" },
      { label: "Canada", value: "CAN" },
      { label: "Mexico", value: "MEX" },
    ]}
    placeholder="Search countries..."
  />
  <p class="govuk-body mt-4">
    <strong>Note:</strong> submitting this form will trigger a page refresh...
  </p>
</form>
{#if form?.search}
  <div
    class="govuk-notification-banner govuk-notification-banner--success mt-4"
    role="region"
    aria-labelledby="submission-success"
  >
    <h2 class="govuk-notification-banner__title" id="submission-success">
      Search submitted
    </h2>
    <p class="govuk-notification-banner__content">
      You searched for: <strong>{form.search}</strong>
    </p>
  </div>
{/if}
`,vt=`
<script lang="ts">
  import SearchAutocomplete from '$lib/components/ui/SearchAutocomplete.svelte';
  import { enhance } from '$app/forms';

  let searchValue: string = $state("");
  let showSuccessBanner: boolean = $state(false);

  let { form } = $props(); // Accept form prop from parent (form request processed by server +page.server.ts)
<\/script>

<form
  method="POST"
  use:enhance={({ formData, cancel }) => {
    // bind to selectedValue prop
    searchValue = searchValue;
    showSuccessBanner = true;
    // Prevent server submission
    cancel();
  }}
  // alternatively could still allow server submission to handle data processing and use "use:enhance" to just prevent the default refresh behaviour
  class="govuk-form-group"
>
  <SearchAutocomplete
    name="search"
    options={[
      { label: "United States of America", value: "USA" },
      { label: "Canada", value: "CAN" },
      { label: "Mexico", value: "MEX" },
    ]}
    placeholder="Search countries (client-side handling)..."
  />
  <!-- icon button inside SearchAutocomplete handles submission -->
</form>

{#if showSuccessBanner}
  <div
    class="govuk-notification-banner govuk-notification-banner--success mt-4"
    role="alert" 
    aria-labelledby="enhance-success-title"
  >
    <h2 class="govuk-notification-banner__title" id="enhance-success-title">
      Client-side Search Handled
    </h2>
    <div class="govuk-notification-banner__content">
      <p>You searched for: <strong>{searchValue}</strong></p>
    </div>
  </div>
{/if}
{#if form?.search}
  <div
    class="govuk-notification-banner govuk-notification-banner--success mt-4"
    role="region"
    aria-labelledby="submission-success"
  >
    <h2 class="govuk-notification-banner__title" id="submission-success">
      Search submitted
    </h2>
    <p class="govuk-notification-banner__content">
      You searched for: <strong>{form.search}</strong>
    </p>
  </div>
{/if}
`,bt=v=>{var e=kt(),a=j(e),h=n(a);z(h,{options:["Apple","Banana","Cherry","Date","Elderberry"],placeholder:"Type a fruit..."}),i(a);var b=g(a,2);H(b,{get code(){return ct},language:"svelte"}),f(v,e)},_t=v=>{var e=xt(),a=j(e),h=n(a);z(h,{source_url:"https://api.postcodes.io/postcodes",source_key:"result",source_property:"postcode",placeholder:"Enter postcode query...",minLength:1,tNoResults:()=>"No matching postcodes found"}),i(a);var b=g(a,2);H(b,{get code(){return ut},language:"svelte"}),f(v,e)},yt=v=>{var e=Ct(),a=j(e),h=n(a);z(h,{options:["Alpha","Beta","Gamma","Delta"],minLength:1,placeholder:"Start typing (min 1)..."}),i(a);var b=g(a,2);H(b,{get code(){return dt},language:"svelte"}),f(v,e)},wt=v=>{var e=Ot(),a=j(e),h=n(a);z(h,{options:["X","Y","Z"],tNoResults:()=>"Sorry, no matches found"}),i(a);var b=g(a,2);H(b,{get code(){return mt},language:"svelte"}),f(v,e)},At=v=>{var e=Nt(),a=j(e),h=n(a);z(h,{options:[{label:"Apple",value:"fruit_a"},{label:"Banana",value:"fruit_b"},{label:"Cherry",value:"fruit_c"}],placeholder:"Select a fruit object..."}),i(a);var b=g(a,2);H(b,{get code(){return pt},language:"svelte"}),f(v,e)},St=v=>{var e=Vt(),a=j(e),h=n(a);z(h,{options:["One","Two","Three"],defaultValue:"Two",confirmOnBlur:!0,placeholder:"Confirm on blur..."}),i(a);var b=g(a,2);H(b,{get code(){return ht},language:"svelte"}),f(v,e)};var kt=y('<div class="p-5 bg-white"><!></div> <!>',1),xt=y('<div class="p-5 bg-white"><!></div> <!>',1),Ct=y('<div class="p-5 bg-white"><!></div> <!>',1),Ot=y('<div class="p-5 bg-white"><!></div> <!>',1),Nt=y('<div class="p-5 bg-white"><!></div> <!>',1),Vt=y('<div class="p-5 bg-white"><!></div> <!>',1),Et=y('<p class="govuk-body mt-4"> </p>'),Pt=y('<p class="govuk-body mt-4 text-gray-500">No value selected yet.</p>'),Tt=y('<div class="p-5 bg-white"><div class="mt-4"><!></div> <!></div> <!>',1),qt=y('<div class="govuk-notification-banner govuk-notification-banner--success mt-4" role="region" aria-labelledby="submission-success"><h2 class="govuk-notification-banner__title" id="submission-success">Search submitted</h2> <p class="govuk-notification-banner__content">You searched for: <strong> </strong></p></div>'),Bt=y(`<div class="p-5 bg-white"><form method="POST" class="govuk-form-group"><!> <p class="govuk-body mt-4"><strong>Note:</strong> submitting this form will trigger a page refresh,
        come back to this section to see if this submission worked and we retrieve
        the value searched from the server. This ensures that the component will
        submit without JavaScript on a fully progressively enhancened site (our site
        isn't fully progressively enhanced yet so the examples accordian won't render
        without JS).</p></form> <!></div> <!>`,1),jt=y('<div class="govuk-notification-banner govuk-notification-banner--success mt-4" role="alert" aria-labelledby="enhance-success-title"><h2 class="govuk-notification-banner__title" id="enhance-success-title">Client-side Search Handled</h2> <div class="govuk-notification-banner__content"><p>You searched for: <strong> </strong></p></div></div>'),Lt=y('<div class="govuk-notification-banner govuk-notification-banner--success mt-4" role="region" aria-labelledby="submission-success"><h2 class="govuk-notification-banner__title" id="submission-success">Search submitted</h2> <p class="govuk-notification-banner__content">You searched for: <strong> </strong></p></div>'),It=y('<div class="p-5 bg-white"><form method="POST" class="govuk-form-group"><!></form> <!> <!></div> <!>',1),Dt=y('<div class="bg-orange-50 p-5 flex flex-col gap-8"><!></div>'),Ft=y('<span slot="header" class="text-lg"> </span>'),Ut=y('<div><h5 class="underline underline-offset-4 my-6">Examples of specific use cases</h5> <!></div>');function Rt(v,e){de(e,!0);const a=q=>{var E=Tt(),A=j(E),r=n(A),C=n(r);z(C,{label_text:"Select a country",options:[{label:"United States of America",value:"USA"},{label:"Canada",value:"CAN"},{label:"Mexico",value:"MEX"},{label:"United Kingdom",value:"GBR"}],placeholder:"Start typing a country name...",get selectedValue(){return t(N)},set selectedValue(l){Y(N,l,!0)}}),i(r);var x=g(r,2);{var P=l=>{var c=Et(),m=n(c);i(c),X(()=>ae(m,`Confirmed selected value: ${t(N)??""}`)),f(l,c)},B=l=>{var c=Pt();f(l,c)};ne(x,l=>{t(N)!==null?l(P):l(B,!1)})}i(A);var w=g(A,2);H(w,{get code(){return gt},language:"svelte"}),f(q,E)},h=q=>{var E=Bt(),A=j(E),r=n(A),C=n(r);z(C,{name:"search",options:[{label:"United States of America",value:"USA"},{label:"Canada",value:"CAN"},{label:"Mexico",value:"MEX"}],placeholder:"Search countries..."}),Te(2),i(r);var x=g(r,2);{var P=w=>{var l=qt(),c=g(n(l),2),m=g(n(c)),V=n(m,!0);i(m),i(c),i(l),X(()=>ae(V,e.form.search)),f(w,l)};ne(x,w=>{var l;(l=e.form)!=null&&l.search&&w(P)})}i(A);var B=g(A,2);H(B,{get code(){return ft},language:"svelte"}),f(q,E)},b=q=>{var E=It(),A=j(E),r=n(A),C=n(r);z(C,{name:"search",options:[{label:"United States of America",value:"USA"},{label:"Canada",value:"CAN"},{label:"Mexico",value:"MEX"}],placeholder:"Search countries (client-side handling)...",get selectedValue(){return t(T)},set selectedValue(c){Y(T,c,!0)}}),i(r),Je(r,(c,m)=>{var V;return(V=nt)==null?void 0:V(c,m)},()=>({formData:c,cancel:m})=>{Y(T,t(T),!0),Y(L,!0),m()});var x=g(r,2);{var P=c=>{var m=jt(),V=g(n(m),2),d=n(V),k=g(n(d)),F=n(k,!0);i(k),i(d),i(V),i(m),X(()=>ae(F,t(T))),f(c,m)};ne(x,c=>{t(L)&&c(P)})}var B=g(x,2);{var w=c=>{var m=Lt(),V=g(n(m),2),d=g(n(V)),k=n(d,!0);i(d),i(V),i(m),X(()=>ae(k,e.form.search)),f(c,m)};ne(B,c=>{var m;(m=e.form)!=null&&m.search&&c(w)})}i(A);var l=g(A,2);H(l,{get code(){return vt},language:"svelte"}),f(q,E)};let T=te(""),L=te(!1),N=te(null),W=[{id:"1",heading:"1. Local options list",content:bt},{id:"2",heading:"2. Remote API source",content:_t},{id:"3",heading:"3. Custom minLength & placeholder",content:yt},{id:"4",heading:"4. Custom 'no results' text",content:wt},{id:"5",heading:"5. Options as objects",content:At},{id:"6",heading:"6. Behaviour (Default & Confirm)",content:St},{id:"7",heading:"7. With Selected Value Binding",content:a},{id:"8",heading:"8. Used Inside a Form for progressive enhancement",content:h},{id:"9",heading:"9. Using enhance for Progressive Enhancement",content:b}];var I=Ut(),oe=g(n(I),2);at(oe,{activeClass:"text-[#EA580C] focus:ring-2 focus:ring-[#EA580C]",inactiveClass:"text-gray-500 dark:text-gray-400 hover:bg-slate-100",defaultClass:"w-full",children:(q,E)=>{var A=be(),r=j(A);tt(r,17,()=>W,ot,(C,x)=>{st(C,{children:(P,B)=>{var w=Dt(),l=n(w);rt(l,()=>t(x).content),i(w),f(P,w)},$$slots:{default:!0,header:(P,B)=>{var w=Ft(),l=n(w,!0);i(w),X(()=>ae(l,t(x).heading)),f(P,w)}}})}),f(q,A)},$$slots:{default:!0}}),i(I),f(v,I),me()}const ye=(v,e=se,a=se,h=se,b=se)=>{Ge(v,{get name(){return e()},get folder(){return a()},get subFolder(){return h()},get homepage(){return b()},statusObject:zt,parentFolder:"components-update"})},we=(v,e=se)=>{Ie(v,{get homepage(){return e()},detailsArray:Wt,connectedComponentsArray:Jt})};let zt={progress:"In progress",statusRows:[{obj:{Accessible:!0,Responsive:!0,"Prog. enhanced":!0},visibleOnHompepage:!1},{obj:{Reviewed:!1,Tested:!1},visibleOnHomepage:!1}]},Ht=["A search box that provides autocomplete suggestions as the user types.",'Based on the <a href="https://components.publishing.service.gov.uk/component-guide/search_with_autocomplete" target="_blank" rel="noopener noreferrer">GOV.UK Publishing Components search with autocomplete box</a>.','Uses the <a href="https://github.com/alphagov/accessible-autocomplete" target="_blank" rel="noopener noreferrer">accessible-autocomplete</a> library.'],Mt=['The component should ideally be used within an HTML <code>&lt;form&gt;</code> to allow standard form submission (works with or without JavaScript). Consider giving the form <code>role="search"</code> for accessibility.',"For client-side handling (e.g., in Single Page Applications where a full form submission isn't desired), you can use the <code>bind:selectedValue</code> prop to reactively get the confirmed selection without submitting the form.","Use when you want to help users find specific items by suggesting results from a predefined list or API endpoint as they type. Requires setting up either <code>options</code> or <code>source_url</code>/<code>source_key</code>."],Wt=[{label:"Description",arr:Ht,visibleOnHomepage:!0,markdown:!0},{label:"Context",arr:Mt,visibleOnHomepage:!1,markdown:!0}],Jt=[{label:"Parent Component",visibleOnHomepage:!1,arr:[{name:"Search",folder:"ui"}]}];var Gt=y("<p class=\"text-red-600 font-bold\">Error: Please provide both `source_url` and `source_key` props in the\n        'Autocomplete' category below.</p>"),Xt=y('<div class="p-8"><!></div>'),Yt=y('<!> <!> <!> <div id="examples" data-role="examples-section"><!></div>',1);function Kt(v,e){de(e,!0);const a=d=>{var k=Xt();const F=D(()=>t(r).homepage||t(r).on_govuk_blue?"#1d70b8":"#fff");var U=n(k);{var s=M=>{var Z=be(),ie=j(Z);Re(ie,()=>[t(r).source_url,t(r).source_key,t(r).minLength,t(r).confirmOnBlur,t(r).showNoOptionsFound,t(r).defaultValue,t(r).placeholder,t(r).required,JSON.stringify(t(r).menuAttributes),t(r).menuClasses,JSON.stringify(t(r).options)].join("|"),J=>{z(J,_e(()=>t(r),{get selectedValue(){return t(L)},set selectedValue(le){Y(L,le,!0)}}))}),f(M,Z)},K=M=>{var Z=Gt();f(M,Z)};ne(U,M=>{t(r).source_url&&t(r).source_key?M(s):M(K,!1)})}i(k),X(()=>Me(k,`background-color: ${t(F)??""};`)),f(d,k)};let h=Ye.url.pathname.split("/"),b=Ke(h[h.length-1]),T=te(ue(Xe.md)),L=te(""),N=D(()=>De([{name:"options",category:"Autocomplete",isEditable:!0,value:[],description:{markdown:!0,arr:["An array of suggestion strings or objects with <code>{ label: string, value: any }</code> to use instead of an API endpoint.","If this prop is provided with a non-empty array, it will be used as the suggestion source instead of <code>source_url</code> and <code>source_key</code>.",'Example (strings): <code>["Apple", "Banana", "Cherry"]</code>','Example (objects, requires valid JSON in input): <code>[ { "label": "Aberdeen City", "value": "S12000033" }, { "label": "Aberdeenshire", "value": "S12000034" }, ... ]</code>']}},{name:"source_url",category:"Autocomplete",value:"https://www.gov.uk/api/search.json?suggest=autocomplete",description:{markdown:!0,arr:["Required. The URL endpoint that the component will query to fetch autocomplete suggestions.","The query parameter will be appended automatically (e.g., <code>/api/suggestions?q=user_input</code>).","The endpoint should return JSON."]},rows:1,isRequired:!0},{name:"source_key",category:"Autocomplete",value:"suggested_autocomplete",description:{markdown:!0,arr:["Required. The key within the JSON response from <code>source_url</code> that contains the array of suggestion strings."]},rows:1,isRequired:!0},{name:"source_property",category:"Autocomplete",value:"",description:{markdown:!0,arr:["Optional. Specifies the property name within the fetched JSON objects to use as the primary suggestion label. Useful when the API response doesn't use 'label' or 'postcode'.","If left empty or the property is not found, the component falls back to checking for 'label', then 'postcode'.",'Example: If your API returns <code>[{ "name": "London", ... }]</code>, set this to <code>"name"</code>.']},rows:1,isRequired:!1},{name:"minLength",category:"Autocomplete",value:3,description:{markdown:!0,arr:["The minimum number of characters the user must type before suggestions appear. Defaults to 3.",'From <a href="https://github.com/alphagov/accessible-autocomplete?tab=readme-ov-file#options-reference" target="_blank">accessible-autocomplete options</a>.']}},{name:"confirmOnBlur",category:"Autocomplete",value:!1,description:{markdown:!0,arr:["If <code>true</code>, selecting a suggestion happens when the user blurs the input. If <code>false</code> (default), the user must press Enter or click a suggestion.",'From <a href="https://github.com/alphagov/accessible-autocomplete?tab=readme-ov-file#options-reference" target="_blank">accessible-autocomplete options</a>.']}},{name:"showNoOptionsFound",category:"Autocomplete",value:!0,description:{markdown:!0,arr:['If <code>true</code> (default), displays a "No results found" message when the query yields no suggestions.','From <a href="https://github.com/alphagov/accessible-autocomplete?tab=readme-ov-file#options-reference" target="_blank">accessible-autocomplete options</a>.']}},{name:"defaultValue",category:"Autocomplete",value:"",description:{markdown:!0,arr:["Sets the initial value of the input field when the component loads.",'From <a href="https://github.com/alphagov/accessible-autocomplete?tab=readme-ov-file#options-reference" target="_blank">accessible-autocomplete options</a>.']},rows:1},{name:"placeholder",category:"Autocomplete",value:"",description:{markdown:!0,arr:["Sets the placeholder text for the input field. Defaults to empty string.",'From <a href="https://github.com/alphagov/accessible-autocomplete?tab=readme-ov-file#options-reference" target="_blank">accessible-autocomplete options</a>.']},rows:1},{name:"required",category:"Autocomplete",value:!1,description:{markdown:!0,arr:["Adds the <code>required</code> attribute to the input field. Defaults to <code>false</code>.",'From <a href="https://github.com/alphagov/accessible-autocomplete?tab=readme-ov-file#options-reference" target="_blank">accessible-autocomplete options</a>.']}},{name:"tNoResults",category:"Autocomplete Text Customisation",value:()=>"No results found",propType:"fixed",functionElements:{functionAsString:'() => "No results found"'},description:{markdown:!0,arr:["Function that returns the text to display when no results are found.","Default: <code>() => 'No results found'</code>",'From <a href="https://github.com/alphagov/accessible-autocomplete?tab=readme-ov-file#options-reference" target="_blank">accessible-autocomplete options</a>.']}},{name:"tAssistiveHint",category:"Autocomplete Text Customisation",value:()=>"When autocomplete results are available use up and down arrows to review and enter to select. Touch device users, explore by touch or with swipe gestures.",propType:"fixed",functionElements:{functionAsString:'() => "When autocomplete results are available use up and down arrows to review and enter to select. Touch device users, explore by touch or with swipe gestures."'},description:{markdown:!0,arr:["Function that returns the text for the assistive hint (hidden text read by screen readers).",'From <a href="https://github.com/alphagov/accessible-autocomplete?tab=readme-ov-file#options-reference" target="_blank">accessible-autocomplete options</a>.']}},{name:"menuAttributes",category:"Autocomplete Styling & Attributes",value:{},description:{markdown:!0,arr:["An object containing attributes to add to the suggestions menu <code>&lt;ul&gt;</code> element. Provide as a JSON object.",'Example: <code>{"data-testid": "my-menu"}</code>','From <a href="https://github.com/alphagov/accessible-autocomplete?tab=readme-ov-file#options-reference" target="_blank">accessible-autocomplete options</a>.']},rows:3},{name:"menuClasses",category:"Autocomplete Styling & Attributes",value:"",description:{markdown:!0,arr:["Optional string of CSS classes to add to the suggestions menu <code>&lt;ul&gt;</code> element. Defaults to <code>null</code>.",'From <a href="https://github.com/alphagov/accessible-autocomplete?tab=readme-ov-file#options-reference" target="_blank">accessible-autocomplete options</a>.']},rows:1},{name:"label_text",category:"Content",value:"Search GOV.UK",description:{markdown:!0,arr:["The text content for the <code>label</code> element. Allows HTML.","Note: Autocomplete component always uses a separate label (not inline)."]},rows:1},{name:"selectedValue",category:"Content",isBinded:!0,value:t(L),description:{markdown:!0,arr:["The current value of the search input field. Can be bound to reactively get the confirmed selection without submitting a form.","Shows the <code>label</code> of the selected suggestion by default <strong>unless</strong> a <code>value</code> for the option was also parsed with the label intially as an object."]}},{name:"button_text",category:"Content",value:"Search",description:{markdown:!0,arr:['Sets the visually hidden text content for the submit button, read by screen readers. Defaults to "Search".']},rows:1},{name:"name",category:"Content",value:"q",description:{markdown:!0,arr:['Sets the <code>name</code> attribute for the search input field. Defaults to "q".']},rows:1,isRequired:!0},{name:"hint",category:"Content",value:"Try 'benefits' or 'driving'",description:{markdown:!0,arr:["Optional hint text displayed below the label (if not ongovuk_blue or homepage).","Note: Autocomplete functionality does not directly use this hint."]},rows:2},{name:"on_govuk_blue",category:"Styling",value:!1,description:{markdown:!0,arr:["Set to <code>true</code> to apply styling for use on a dark blue (<code>#003078</code>) background."]}},{name:"homepage",category:"Styling",value:!1,description:{markdown:!0,arr:["Set to <code>true</code> to apply specific styling for homepage use (e.g., large size, different button colors). This automatically applies the necessary styles for a dark blue background, effectively incorporating the behaviour of <code>on_govuk_blue: true</code>."]}},{name:"size",category:"Styling",options:["","large"],value:"",description:{markdown:!0,arr:["Sets the size variant. Leave empty for default, or set to <code>large</code>."]}},{name:"label_size",category:"Styling",options:["","s","m","l","xl"],value:"",description:{markdown:!0,arr:["Sets the size of the label text using GOV.UK typography classes. Options: <code>s</code>, <code>m</code>, <code>l</code>, <code>xl</code>."]}},{name:"label_margin_bottom",category:"Styling",options:[null,0,1,2,3,4,5,6,7,8,9],value:null,description:{markdown:!0,arr:["Sets the bottom margin for the label using the GOV.UK spacing scale (0-9)."]}},{name:"label_custom_class",category:"Styling",value:"",description:{markdown:!0,arr:["Adds a custom CSS class to the label element."]},rows:1},{name:"input_width",category:"Styling",options:["","full","three-quarters","two-thirds","one-half","one-third","one-quarter"],value:"",description:{markdown:!0,arr:["Sets the maximum width of the entire search component using GOV.UK Frontend utility classes (e.g., <code>govuk-!-width-two-thirds</code>). The input and button will fill this width. Leave empty for default (stretches to fit its parent container)."]}},{name:"button_background_color",category:"Styling",value:"",description:{markdown:!0,arr:["Sets a custom background color for the search submit button using a valid CSS color value (e.g., <code>#ff0000</code>).","<strong>Note:</strong> This custom color will be overridden by the default styles if <code>on_govuk_blue</code> or <code>homepage</code> props are set to <code>true</code>."]},rows:1},{name:"outerClasses",category:"Styling",value:"",description:{markdown:!0,arr:["Optional. Adds custom CSS classes to the outermost wrapping <code>div</code> element of the autocomplete component."]},rows:1},{name:"wrap_label_in_a_heading",category:"Accessibility & Attributes",value:!1,description:{markdown:!0,arr:["Set to <code>true</code> to wrap the label content within a heading tag."]}},{name:"heading_level",category:"Accessibility & Attributes",options:[1,2,3,4,5,6],value:2,description:{markdown:!0,arr:["Sets the heading level (1-6) if <code>wrap_label_in_a_heading</code> is <code>true</code>. Defaults to 2."]},visible:{name:"wrap_label_in_a_heading",value:!0}},{name:"label_id",category:"Accessibility & Attributes",value:"",description:{markdown:!0,arr:["Sets the <code>id</code> attribute for the input field and the <code>for</code> attribute of the label. If left empty, a unique ID will be generated."]},rows:1},{name:"aria_controls",category:"Accessibility & Attributes",value:"",description:{markdown:!0,arr:["Sets the <code>aria-controls</code> attribute on the input field, pointing to the ID of the element whose content is controlled by the search.","Note: accessible-autocomplete might add its own aria attributes."]},rows:1},{name:"disable_corrections",category:"Accessibility & Attributes",value:!1,description:{markdown:!0,arr:['Set to <code>true</code> to disable mobile browser autocorrect and autocapitalization features on the input field by adding <code>autocorrect="off"</code> and <code>autocapitalize="off"</code>.']}},{name:"id",category:"Accessibility & Attributes",value:"",description:{markdown:!0,arr:["Sets the <code>id</code> attribute on the outermost wrapping <code>div</code> element."]},rows:1},{name:"outerDataAttributes",category:"Accessibility & Attributes",value:{},description:{markdown:!0,arr:['Adds custom <code>data-*</code> attributes to the outermost wrapping <code>div</code> element. Provide as a JSON object. Note: <code>data-module="gem-search-with-autocomplete"</code> is added by the component.']},rows:5},{name:"aria",category:"Accessibility & Attributes",value:{},description:{markdown:!0,arr:['Adds custom <code>aria-*</code> attributes to the outermost wrapping <code>div</code> element. Provide as a JSON object (e.g., <code>{"labelledby": "element-id"}</code>).']},rows:5},{name:"role",category:"Accessibility & Attributes",value:"",description:{markdown:!0,arr:['Sets the <code>role</code> attribute on the outermost wrapping <code>div</code> element. Consider using <code>role="search"</code> on the parent <code>form</code> element instead.']},rows:1},{name:"lang",category:"Accessibility & Attributes",value:"",description:{markdown:!0,arr:["Sets the language (<code>lang</code> attribute) for the component."]},rows:1},{name:"dir",category:"Accessibility & Attributes",options:["","ltr","rtl","auto"],value:"",description:{markdown:!0,arr:["Sets the text direction (<code>dir</code> attribute) for the component. Empty string means default behavior."]}}])),W=function(d,k,F){return d.map(U=>{let s=F[U.name]??U.value;return U.isEditable===k&&s!=null?typeof s=="object"?JSON.stringify(s,null,2):s:null})},I=te(ue(W(t(N),!0,{}))),oe=D(()=>({})),q=D(()=>W(t(N),!1,t(oe))),E=D(()=>Fe(t(N),t(I))),A=D(()=>Ue(t(N),t(I),t(q))),r=D(()=>t(A)[0]),C=D(()=>t(A)[1]),x=ue({});qe(()=>{t(C).forEach(d=>{x[d]=!0}),Object.keys(x).forEach(d=>{t(C).includes(d)||(x[d]=!1)})});let P=D(()=>Object.fromEntries(Object.entries(t(r)).map(([d,k])=>{var F,U;return[d,typeof k=="function"?(U=(F=t(N).find(s=>s.name===d))==null?void 0:F.functionElements)==null?void 0:U.functionAsString:k]})));var B=Yt(),w=j(B);Be(w,{wrapper:{component:{WrapperInformation:we,WrapperNameAndStatus:ye},name:b},homepage:!1});var l=g(w,2);je(l,{get parametersParsingErrorsArray(){return t(C)},get parametersParsingErrorsObject(){return x},onCloseFunction:d=>t(C).filter(k=>k!=d)});var c=g(l,2);Le(c,{Component:a,get parametersSourceArray(){return t(N)},get derivedParametersValuesArray(){return t(q)},get parametersVisibleArray(){return t(E)},get parametersParsingErrorsObject(){return x},get copyParametersToClipboardObject(){return t(P)},get demoScreenWidth(){return t(T)},set demoScreenWidth(d){Y(T,d,!0)},get statedParametersValuesArray(){return t(I)},set statedParametersValuesArray(d){Y(I,d,!0)}});var m=g(c,2),V=n(m);Rt(V,{get form(){return e.form}}),i(m),f(v,B),me()}const _o=Object.freeze(Object.defineProperty({__proto__:null,WrapperInformation:we,WrapperNameAndStatus:ye,default:Kt},Symbol.toStringTag,{value:"Module"}));export{_o as _};
