import"./CWj6FrbW.js";import{p as T,f as j,F as l,G,c as L,s as _,r as b,t as M,a as z}from"./DAeYpASc.js";import{e as D,d as J}from"./oN6NPT6s.js";import{c as K,e as S,a as g}from"./BAP9DKun.js";import{i as A}from"./BRrZqxBe.js";import{s as t,b as P}from"./BYRFjNIU.js";import{p as s}from"./CDnlRnBP.js";import{e as N,i as O}from"./DtT6GxuX.js";var Q=S('<circle pointer-events="none"></circle>'),U=S('<rect pointer-events="none"></rect>'),V=S('<polygon pointer-events="none"></polygon>'),Z=S('<g role="button" tabindex="0"><circle fill="transparent" stroke="none" pointer-events="all"></circle><!></g>');function p(H,e){T(e,!0);let X=s(e,"pathStrokeColor",3,null),c=s(e,"markerShape",3,"circle"),o=s(e,"markerRadius",3,5),C=s(e,"markerFill",19,X),F=s(e,"markerStroke",3,"white"),W=s(e,"markerStrokeWidth",3,1);var x=K(),I=j(x);N(I,17,()=>e.dataArray,O,(E,d)=>{var h=Z();const f=G(()=>"marker-"+l(d)[e.series]+l(d)[e.x]);h.__click=function(...n){var a;(a=e.interactiveMarkers?k=>e.onClickMarker(k,l(d),l(f)):null)==null||a.apply(this,n)},h.__keydown=function(...n){var a;(a=e.interactiveMarkers?k=>k.key==="Enter"&&e.onClickMarker(k,l(d)):null)==null||a.apply(this,n)};var R=L(h),w=_(R);{var m=n=>{var a=Q();M(()=>{t(a,"r",o()),t(a,"stroke",F()),t(a,"fill",C()),t(a,"stroke-width",W())}),g(n,a)},B=(n,a)=>{{var k=u=>{var v=U();M(()=>{t(v,"transform",`rotate(${c()==="diamond"?45:0})`),t(v,"x",-o()),t(v,"y",-o()),t(v,"width",o()*2),t(v,"height",o()*2),t(v,"stroke",F()),t(v,"fill",C()),t(v,"stroke-width",W())}),g(u,v)},Y=(u,v)=>{{var q=i=>{var r=V();M(()=>{t(r,"points",`0,${-o()*2} ${o()*1.733},${o()??""} ${-o()*1.733},${o()??""}`),t(r,"stroke",F()),t(r,"fill",C()),t(r,"stroke-width",W())}),g(i,r)};A(u,i=>{c()==="triangle"&&i(q)},v)}};A(n,u=>{["square","diamond"].includes(c())?u(k):u(Y,!1)},a)}};A(w,n=>{c()==="circle"?n(m):n(B,!1)})}b(h),M((n,a)=>{t(h,"data-id",l(f)),t(h,"transform",`translate(${n??""},${a??""})`),t(h,"pointer-events",e.interactiveMarkers?null:"none"),t(R,"r",o()+6)},[()=>e.xFunction(l(d)[e.x]),()=>e.yFunction(l(d)[e.y])]),D("mouseenter",h,function(...n){var a;(a=e.interactiveMarkers?k=>e.onMouseEnterMarker(k,l(d),l(f),k.currentTarget.getBoundingClientRect()):null)==null||a.apply(this,n)}),D("mouseleave",h,function(...n){var a;(a=e.interactiveMarkers?k=>e.onMouseLeaveMarker(k,l(d),l(f)):null)==null||a.apply(this,n)}),g(E,h)}),g(H,x),z()}J(["click","keydown"]);var $=S("<path></path>"),ee=S('<path pointer-events="none"></path>'),te=S('<defs><marker markerWidth="4" markerHeight="3" refX="2.7" refY="1.5" orient="auto-start-reverse"><polygon points="0 0, 4 1.5, 0 3"></polygon></marker><marker markerWidth="14" markerHeight="14" refX="5" refY="5" orient="auto"><circle cx="5" cy="5" r="1.5"></circle></marker></defs><g><g role="button" tabindex="0"><!><path fill="none" stroke="invisible"></path><!><path pointer-events="none"></path></g><!></g>',1);function de(H,e){T(e,!0);let X=s(e,"opacity",3,1),c=s(e,"pathStrokeColor",3,"grey"),o=s(e,"pathStrokeWidth",3,3),C=s(e,"pathFillColor",3,"none"),F=s(e,"pathStrokeDashArray",3,"none"),W=s(e,"includeArea",3,!1),x=G(()=>e.lineFunction(e.dataArray));var I=te(),E=j(I),d=L(E),h=L(d);b(d);var f=_(d),R=L(f);b(f),b(E);var w=_(E),m=L(w);m.__click=function(...i){var r;(r=e.interactiveLines?y=>e.onClickSeries(e.dataId,e.tier):null)==null||r.apply(this,i)},m.__keydown=function(...i){var r;(r=e.interactiveLines?y=>y.key==="Enter"&&e.onClickSeries(y,e.dataArray):null)==null||r.apply(this,i)};var B=L(m);{var n=i=>{var r=$();M(y=>{t(r,"d",y),t(r,"fill",e.areaFillColor)},[()=>e.areaFunction(e.dataArray)]),g(i,r)};A(B,i=>{W()&&i(n)})}var a=_(B),k=_(a);{var Y=i=>{var r=ee();M(()=>{t(r,"d",l(x)),t(r,"fill",C()),t(r,"stroke",e.chartBackgroundColor),t(r,"stroke-width",o()*1.2),t(r,"stroke-dasharray",F())}),g(i,r)};A(k,i=>{e.halo&&i(Y)})}var u=_(k);b(m);var v=_(m);{var q=i=>{const r=G(()=>e.markerFill??c());p(i,{get dataArray(){return e.dataArray},get markerFill(){return l(r)},get markerRadius(){return e.markerRadius},get markerShape(){return e.markerShape},get markerStroke(){return e.markerStroke},get markerStrokeWidth(){return e.markerStrokeWidth},get pathStrokeColor(){return c()},get x(){return e.x},get y(){return e.y},get series(){return e.series},get xFunction(){return e.xFunction},get yFunction(){return e.yFunction},get onMouseEnterMarker(){return e.onMouseEnterMarker},get onMouseLeaveMarker(){return e.onMouseLeaveMarker},get onClickMarker(){return e.onClickMarker},get interactiveMarkers(){return e.interactiveMarkers}})};A(v,i=>{e.markers&&i(q)})}b(w),M(()=>{t(d,"id",`arrow-${c()}`),P(h,`fill: ${c()??""}`),t(f,"id",`circle-${c()}`),P(R,`fill: ${c()??""}`),t(w,"data-id","series-"+e.dataId),t(w,"opacity",X()),t(m,"data-id","line-"+e.dataId),t(m,"pointer-events",e.interactiveLines?null:"none"),t(a,"d",l(x)),t(a,"stroke-width",e.invisibleStrokeWidth),t(a,"pointer-events",e.interactiveLines?"stroke":"none"),t(u,"d",l(x)),t(u,"fill",C()),t(u,"stroke",c()),t(u,"stroke-width",o()),t(u,"stroke-dasharray",F()),t(u,"marker-start",`url(#${e.lineEnding}-${c()})`)}),D("mouseenter",m,function(...i){var r;(r=e.interactiveLines?y=>e.onMouseEnterSeries(e.dataId,e.tier):null)==null||r.apply(this,i)}),D("mouseleave",m,function(...i){var r;(r=e.interactiveLines?y=>e.onMouseLeaveSeries(e.dataId,e.tier):null)==null||r.apply(this,i)}),g(H,I),z()}J(["click","keydown"]);export{de as L};
