import{b as z}from"../chunks/CEaFW4id.js";import"../chunks/CWj6FrbW.js";import{p as re,z as d,u as ne,f as E,a as oe,x as r,c as h,s as D,r as g,t as se}from"../chunks/DRw07N7P.js";import{c as U,a as k,t as Q}from"../chunks/Bdkmpx2T.js";import{i as q}from"../chunks/DIhpdVoS.js";import{s as J}from"../chunks/dbxAgBfZ.js";import{s as j,c as ie}from"../chunks/CZFFhi0W.js";import{F as me}from"../chunks/B9pzPoSD.js";import{I as le}from"../chunks/taHMKRZ-.js";import{S as ce}from"../chunks/RlxSS15x.js";import{S as de}from"../chunks/Bwr_VUpn.js";import{p as K}from"../chunks/VCpaEtP1.js";import{P as pe}from"../chunks/BawzQGnX.js";import{f as R}from"../chunks/lMwbQCpd.js";const fe=!0,ue=async c=>{const a=await(await c.fetch(`${z}/data/testData.json`)).json(),t=await(await c.fetch(`${z}/data/svgFontDimensions.json`)).json(),{componentTree:i}=c.data;let p=[...new Set(a.flatMetricData.map(e=>e.metric))],b=[...new Set(a.flatMetricData.map(e=>e.areaCode))],f=[...new Set(a.flatMetricData.map(e=>e.x))],N=p.map(e=>({metric:e,lines:b.map(n=>({areaCode:n,data:a.flatMetricData.filter(o=>o.areaCode===n&&o.metric===e)}))})),H=f.map(e=>({x:e,bars:b.map(n=>{var o;return{areaCode:n,y:(o=a.flatMetricData.filter(m=>m.metric==="Household waste recycling rate").find(m=>m.areaCode===n&&m.x===e))==null?void 0:o.y}})})),u=f.map(e=>({year:e,data:a.flatMetricData.filter(n=>n.x==e).map(n=>({areaCode:n.areaCode,areaName:a.areaCodeLookup[n.areaCode],data:a.flatMetricData.filter(o=>o.x==e&&o.areaCode==n.areaCode).reduce((o,m)=>(o[m.metric]=m.y,o),{})}))})).map(e=>({year:e.year,data:Object.values(e.data.reduce((n,o)=>{const m=`${o.areaCode}_${o.areaName}`;return n[m]||(n[m]=o),n},{}))})),S=a.flatMetricData.map(e=>({...e,y:Math.round(parseFloat(e.y))})).map(e=>({...e,areaName:a.areaCodeLookup[e.areaCode]})).map(({areaCode:e,xLabel:n,...o})=>o).filter(e=>e.x===2022).map(({x:e,...n})=>n),v={};for(let e of S)v[e.areaName]||(v[e.areaName]={areaName:e.areaName}),v[e.areaName][e.metric]=e.y;let M=Object.values(v),w=a.metaData,I=a.indexOfMultipleDeprivation,y=a.deprivationMetaData;return{metrics:p,areas:b,years:f,dataInFormatForLineChart:N,dataInFormatForBarChart:H,dataInFormatForMap:u,dataInFormatForTable:S,tableData:M,areaCodeLookup:a.areaCodeLookup,svgFontDimensions:t,componentTree:i,metaData:w,deprivationData:I,deprivationMetaData:y}},Le=Object.freeze(Object.defineProperty({__proto__:null,load:ue,prerender:fe},Symbol.toStringTag,{value:"Module"}));function G(c){let a=[];for(const t of c)t.hasWrapper&&a.push({text:R(t.name),href:`/${t.path}`}),!t.hasWrapper&&t.children&&t.children.length>0&&(a=a.concat(G(t.children)));return a}function ve(c){const a=[];return c.forEach(t=>{if(t.hasWrapper)a.push({text:R(t.name),href:`/${t.path}`});else if(t.children&&t.children.length>0){const i=G(t.children);i.length>0&&a.push({title:t.name,items:i})}}),a}function he(c,a){return c.map(t=>{const i=t.href.split("#")[0],p=i===a||t.href===a;return{...t,subItems:p?[{text:"Description",href:`${i}#description`},{text:"Context",href:`${i}#context`},{text:"Component Demo",href:`${i}#component-demo`},{text:"Examples",href:`${i}#examples`}]:t.subItems}})}var ge=Q('<aside class="app-split-pane__nav svelte-igfkor"><!></aside>'),be=Q('<div class="min-h-screen flex flex-col"><div class="flex-grow"><!> <!> <!> <div><div><!> <div><!></div></div></div></div> <!></div>');function je(c,a){re(a,!0);let t=d(()=>K.url.pathname),i=d(()=>K.url.hash),p=d(()=>r(t)+r(i)),b=d(()=>r(t).startsWith("/components/layout/service-navigation-nested-mobile/mobile-demo")),f=d(()=>r(t).startsWith("/get-started")?{sectionName:"Get started",sectionHref:"/get-started"}:r(t).startsWith("/components")?{sectionName:"Components",sectionHref:"/components"}:r(t).startsWith("/patterns")?{sectionName:"Patterns",sectionHref:"/patterns"}:r(t).startsWith("/community")?{sectionName:"Community",sectionHref:"/community"}:{sectionName:"Home",sectionHref:"/"}),N=d(()=>r(f).sectionName),H=d(()=>r(f).sectionHref);const u=a.data.componentTree||[],S=u.length>0?u.map(s=>({title:s.name,items:s.children&&s.children.length>0?G(s.children):[]})):[],v=[],M=[],w=[{title:"Setup guides",items:[{text:"About & Benefits",href:"/get-started/about-benefits"},{text:"Installation and usage",href:"/get-started"}]},{title:"Component library usage guides",items:[{text:"Component statuses",href:"/get-started/component-statuses"}]}],I=d(()=>{switch(r(N)){case"Get started":return w;case"Components":return S.map(l=>({...l,items:he(l.items,r(t))}));case"Patterns":return v;case"Community":return M;default:return[]}}),y=d(()=>{const s=r(I);return!s||s.length===0?!1:s.some(l=>l.items&&l.items.length>0)}),e=u.length>0?ve(u):[],n=[{title:"Get started",href:"/get-started",items:[{text:"Installation and usage",href:"/get-started"},{text:"About & Benefits",href:"/get-started/about-benefits"},{text:"Component statuses",href:"/get-started/component-statuses"}]},{title:"Components",href:"/components",items:e},{title:"Patterns",href:"/patterns",items:[]},{title:"Community",href:"/community",items:[]}];ne(()=>{typeof window>"u"||document.body.classList.add("js-enabled")});var o=U(),m=E(o);{var V=s=>{var l=be(),C=h(l),W=h(C);le(W,{homepageUrl:"/",organisationName:"MHCLG Digital, Data and Information",includeCrest:!1});var P=D(W,2);de(P,{serviceName:"Svelte Component Library",homeHref:"/",mobileNavSections:n,get activeSectionHref(){return r(H)},get activeDetailHref(){return r(p)}});var A=D(P,2);pe(A,{tagText:"Alpha",linkHref:"mailto:dataexplorerfeedback@communities.gov.uk",bannerText:"This service is in development and intended to be production-ready and available for use by the digital community in Autumn 2025",linkText:""});var F=D(A,2);let O;var T=h(F),B=h(T);{var Y=x=>{var _=ge(),te=h(_);const ae=d(()=>r(N));ce(te,{get title(){return r(ae)},get groups(){return r(I)},get currentItem(){return r(p)}}),g(_),k(x,_)};q(B,x=>{r(t)!=="/"&&r(y)&&x(Y)})}var L=D(B,2);let $;var Z=h(L);J(Z,()=>a.children),g(L),g(T),g(F),g(C);var ee=D(C,2);me(ee,{}),g(l),se((x,_)=>{O=j(F,1,"app-pane__body svelte-igfkor",null,O,x),j(T,1,ie(r(t)!=="/"?"app-split-pane":""),"svelte-igfkor"),$=j(L,1,"svelte-igfkor",null,$,_)},[()=>({"govuk-width-container":r(t)!=="/"}),()=>({"app-split-pane__content":r(t)!=="/"&&r(y),"app-content":r(t)!=="/"})]),k(s,l)},X=s=>{var l=U(),C=E(l);J(C,()=>a.children),k(s,l)};q(m,s=>{r(b)?s(X,!1):s(V)})}k(c,o),oe()}export{je as component,Le as universal};
