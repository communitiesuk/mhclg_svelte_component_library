import{b as p}from"../chunks/D4RYA3Tk.js";import"../chunks/CWj6FrbW.js";import{p as re,z as d,u as ne,f as E,a as oe,x as r,c as g,s as N,r as b,t as se}from"../chunks/DRw07N7P.js";import{c as U,a as H,t as Q}from"../chunks/Bdkmpx2T.js";import{i as q}from"../chunks/DIhpdVoS.js";import{s as J}from"../chunks/dbxAgBfZ.js";import{s as G,c as ie}from"../chunks/CZFFhi0W.js";import{F as me}from"../chunks/D1FfwFOv.js";import{I as le}from"../chunks/BsKDrWSp.js";import{S as ce}from"../chunks/RlxSS15x.js";import{S as de}from"../chunks/D7hvB9oM.js";import{p as K}from"../chunks/BJSi-JV2.js";import{P as pe}from"../chunks/BawzQGnX.js";import{f as R}from"../chunks/lMwbQCpd.js";const fe=!0,ue=async c=>{const a=await(await c.fetch(`${p}/data/testData.json`)).json(),t=await(await c.fetch(`${p}/data/svgFontDimensions.json`)).json(),{componentTree:i}=c.data;let f=[...new Set(a.flatMetricData.map(e=>e.metric))],C=[...new Set(a.flatMetricData.map(e=>e.areaCode))],u=[...new Set(a.flatMetricData.map(e=>e.x))],S=f.map(e=>({metric:e,lines:C.map(n=>({areaCode:n,data:a.flatMetricData.filter(o=>o.areaCode===n&&o.metric===e)}))})),M=u.map(e=>({x:e,bars:C.map(n=>{var o;return{areaCode:n,y:(o=a.flatMetricData.filter(m=>m.metric==="Household waste recycling rate").find(m=>m.areaCode===n&&m.x===e))==null?void 0:o.y}})})),v=u.map(e=>({year:e,data:a.flatMetricData.filter(n=>n.x==e).map(n=>({areaCode:n.areaCode,areaName:a.areaCodeLookup[n.areaCode],data:a.flatMetricData.filter(o=>o.x==e&&o.areaCode==n.areaCode).reduce((o,m)=>(o[m.metric]=m.y,o),{})}))})).map(e=>({year:e.year,data:Object.values(e.data.reduce((n,o)=>{const m=`${o.areaCode}_${o.areaName}`;return n[m]||(n[m]=o),n},{}))})),I=a.flatMetricData.map(e=>({...e,y:Math.round(parseFloat(e.y))})).map(e=>({...e,areaName:a.areaCodeLookup[e.areaCode]})).map(({areaCode:e,xLabel:n,...o})=>o).filter(e=>e.x===2022).map(({x:e,...n})=>n),h={};for(let e of I)h[e.areaName]||(h[e.areaName]={areaName:e.areaName}),h[e.areaName][e.metric]=e.y;let w=Object.values(h),F=a.metaData,y=a.indexOfMultipleDeprivation,k=a.deprivationMetaData;return{metrics:f,areas:C,years:u,dataInFormatForLineChart:S,dataInFormatForBarChart:M,dataInFormatForMap:v,dataInFormatForTable:I,tableData:w,areaCodeLookup:a.areaCodeLookup,svgFontDimensions:t,componentTree:i,metaData:F,deprivationData:y,deprivationMetaData:k}},Le=Object.freeze(Object.defineProperty({__proto__:null,load:ue,prerender:fe},Symbol.toStringTag,{value:"Module"}));function W(c){let a=[];for(const t of c)t.hasWrapper&&a.push({text:R(t.name),href:`/${t.path}`}),!t.hasWrapper&&t.children&&t.children.length>0&&(a=a.concat(W(t.children)));return a}function ve(c){const a=[];return c.forEach(t=>{if(t.hasWrapper)a.push({text:R(t.name),href:`/${t.path}`});else if(t.children&&t.children.length>0){const i=W(t.children);i.length>0&&a.push({title:t.name,items:i})}}),a}function he(c,a){return c.map(t=>{const i=t.href.split("#")[0],f=i===a||t.href===a;return{...t,subItems:f?[{text:"Description",href:`${i}#description`},{text:"Context",href:`${i}#context`},{text:"Component Demo",href:`${i}#component-demo`},{text:"Examples",href:`${i}#examples`}]:t.subItems}})}var ge=Q('<aside class="app-split-pane__nav svelte-igfkor"><!></aside>'),be=Q('<div class="min-h-screen flex flex-col"><div class="flex-grow"><!> <!> <!> <div><div><!> <div><!></div></div></div></div> <!></div>');function je(c,a){re(a,!0);let t=d(()=>K.url.pathname),i=d(()=>K.url.hash),f=d(()=>r(t)+r(i)),C=d(()=>r(t).startsWith("/components/layout/service-navigation-nested-mobile/mobile-demo")),u=d(()=>r(t).startsWith("/get-started")?{sectionName:"Get started",sectionHref:"/get-started"}:r(t).startsWith("/components")?{sectionName:"Components",sectionHref:"/components"}:r(t).startsWith("/patterns")?{sectionName:"Patterns",sectionHref:"/patterns"}:r(t).startsWith("/community")?{sectionName:"Community",sectionHref:"/community"}:{sectionName:"Home",sectionHref:"/"}),S=d(()=>r(u).sectionName),M=d(()=>r(u).sectionHref);const v=a.data.componentTree||[],I=v.length>0?v.map(s=>({title:s.name,items:s.children&&s.children.length>0?W(s.children):[]})):[],h=[],w=[],F=[{title:"Setup guides",items:[{text:"About & Benefits",href:"/get-started/about-benefits"},{text:"Installation and usage",href:"/get-started"}]},{title:"Component library usage guides",items:[{text:"Component statuses",href:"/get-started/component-statuses"}]}],y=d(()=>{switch(r(S)){case"Get started":return F;case"Components":return I.map(l=>({...l,items:he(l.items,p+r(t))}));case"Patterns":return h;case"Community":return w;default:return[]}}),k=d(()=>{const s=r(y);return!s||s.length===0?!1:s.some(l=>l.items&&l.items.length>0)}),e=v.length>0?ve(v):[],n=[{title:"Get started",href:"/get-started",items:[{text:"Installation and usage",href:"/get-started"},{text:"About & Benefits",href:"/get-started/about-benefits"},{text:"Component statuses",href:"/get-started/component-statuses"}]},{title:"Components",href:"/components",items:e},{title:"Patterns",href:"/patterns",items:[]},{title:"Community",href:"/community",items:[]}];ne(()=>{typeof window>"u"||document.body.classList.add("js-enabled")});var o=U(),m=E(o);{var V=s=>{var l=be(),x=g(l),P=g(x);le(P,{homepageUrl:"/",organisationName:"MHCLG Digital, Data and Information",includeCrest:!1});var A=N(P,2);de(A,{serviceName:"Svelte Component Library",homeHref:"/",mobileNavSections:n,get activeSectionHref(){return r(M)},get activeDetailHref(){return r(f)}});var O=N(A,2);pe(O,{tagText:"Alpha",linkHref:"mailto:dataexplorerfeedback@communities.gov.uk",bannerText:"This service is in development and intended to be production-ready and available for use by the digital community in Autumn 2025",linkText:""});var T=N(O,2);let B;var L=g(T),$=g(L);{var Y=_=>{var D=ge(),te=g(D);const ae=d(()=>r(S));ce(te,{get title(){return r(ae)},get groups(){return r(y)},get currentItem(){return r(f)}}),b(D),H(_,D)};q($,_=>{r(t)!==p+"/"&&r(k)&&_(Y)})}var j=N($,2);let z;var Z=g(j);J(Z,()=>a.children),b(j),b(L),b(T),b(x);var ee=N(x,2);me(ee,{}),b(l),se((_,D)=>{B=G(T,1,"app-pane__body svelte-igfkor",null,B,_),G(L,1,ie(r(t)!==p+"/"?"app-split-pane":""),"svelte-igfkor"),z=G(j,1,"svelte-igfkor",null,z,D)},[()=>({"govuk-width-container":r(t)!==p+"/"}),()=>({"app-split-pane__content":r(t)!==p+"/"&&r(k),"app-content":r(t)!==p+"/"})]),H(s,l)},X=s=>{var l=U(),x=E(l);J(x,()=>a.children),H(s,l)};q(m,s=>{r(C)?s(X,!1):s(V)})}H(c,o),oe()}export{je as component,Le as universal};
