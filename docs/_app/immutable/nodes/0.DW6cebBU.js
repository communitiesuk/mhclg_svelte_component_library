import{b as n}from"../chunks/K_DPawGj.js";import"../chunks/CWj6FrbW.js";import{p as le,u as me,f as z,a as ce,y as r,G as l,c as g,s as b,r as C,t as de}from"../chunks/I52qY7cu.js";import{c as q,a as H,f as R}from"../chunks/BBh-6AA0.js";import{s as J}from"../chunks/BvNl7SXi.js";import{i as K}from"../chunks/HAye_oo1.js";import{s as P,c as pe}from"../chunks/vwgBT8YE.js";import{C as fe,h as ue,c as ve}from"../chunks/D2aApTV-.js";import{F as he}from"../chunks/nyE7UA0t.js";import{I as ge}from"../chunks/DQMcXcJ-.js";import{S as be}from"../chunks/BuROiQpU.js";import{S as Ce}from"../chunks/DT4tbVyP.js";import{p as Q}from"../chunks/D7CmsDtu.js";import{P as _e}from"../chunks/CIogmX2Q.js";import{f as V}from"../chunks/lMwbQCpd.js";const xe=!0,Ne=async p=>{const a=await(await p.fetch(`${n}/data/testData.json`)).json(),t=await(await p.fetch(`${n}/data/svgFontDimensions.json`)).json(),{componentTree:c}=p.data;let f=[...new Set(a.flatMetricData.map(e=>e.metric))],_=[...new Set(a.flatMetricData.map(e=>e.areaCode))],u=[...new Set(a.flatMetricData.map(e=>e.x))],y=f.map(e=>({metric:e,lines:_.map(o=>({areaCode:o,data:a.flatMetricData.filter(s=>s.areaCode===o&&s.metric===e)}))})),M=u.map(e=>({x:e,bars:_.map(o=>{var s;return{areaCode:o,y:(s=a.flatMetricData.filter(m=>m.metric==="Household waste recycling rate").find(m=>m.areaCode===o&&m.x===e))==null?void 0:s.y}})})),v=u.map(e=>({year:e,data:a.flatMetricData.filter(o=>o.x==e).map(o=>({areaCode:o.areaCode,areaName:a.areaCodeLookup[o.areaCode],data:a.flatMetricData.filter(s=>s.x==e&&s.areaCode==o.areaCode).reduce((s,m)=>(s[m.metric]=m.y,s),{})}))})).map(e=>({year:e.year,data:Object.values(e.data.reduce((o,s)=>{const m=`${s.areaCode}_${s.areaName}`;return o[m]||(o[m]=s),o},{}))})),k=a.flatMetricData.map(e=>({...e,y:Math.round(parseFloat(e.y))})).map(e=>({...e,areaName:a.areaCodeLookup[e.areaCode]})).map(({areaCode:e,xLabel:o,...s})=>s).filter(e=>e.x===2022).map(({x:e,...o})=>o),h={};for(let e of k)h[e.areaName]||(h[e.areaName]={areaName:e.areaName}),h[e.areaName][e.metric]=e.y;let w=Object.values(h),F=a.metaData,S=a.indexOfMultipleDeprivation,I=a.deprivationMetaData;return{metrics:f,areas:_,years:u,dataInFormatForLineChart:y,dataInFormatForBarChart:M,dataInFormatForMap:v,dataInFormatForTable:k,tableData:w,areaCodeLookup:a.areaCodeLookup,svgFontDimensions:t,componentTree:c,metaData:F,deprivationData:S,deprivationMetaData:I}},Ue=Object.freeze(Object.defineProperty({__proto__:null,load:Ne,prerender:xe},Symbol.toStringTag,{value:"Module"}));function j(p){let a=[];for(const t of p)t.hasWrapper&&a.push({text:V(t.name),href:`${n}/${t.path}`}),!t.hasWrapper&&t.children&&t.children.length>0&&(a=a.concat(j(t.children)));return a}function De(p){const a=[];return p.forEach(t=>{if(t.hasWrapper)a.push({text:V(t.name),href:`${n}/${t.path}`});else if(t.children&&t.children.length>0){const c=j(t.children);c.length>0&&a.push({title:t.name,items:c})}}),a}function ye(p,a){return p.map(t=>{const c=t.href.split("#")[0],f=c===a||t.href===a;return{...t,subItems:f?[{text:"Description",href:`${c}#description`},{text:"Context",href:`${c}#context`},{text:"Component Demo",href:`${c}#component-demo`},{text:"Examples",href:`${c}#examples`}]:t.subItems}})}var ke=R('<aside class="app-split-pane__nav svelte-igfkor"><!></aside>'),Se=R('<div class="min-h-screen flex flex-col"><div class="flex-grow"><!> <!> <!> <!> <div><div><!> <div><!></div></div></div></div> <!></div>');function Ee(p,a){le(a,!0);let t=l(()=>Q.url.pathname),c=l(()=>Q.url.hash),f=l(()=>r(t)+r(c)),_=l(()=>r(t).startsWith(n+"/components/layout/service-navigation-nested-mobile/mobile-demo")),u=l(()=>r(t).startsWith(n+"/get-started")?{sectionName:"Get started",sectionHref:"/get-started"}:r(t).startsWith(n+"/components")?{sectionName:"Components",sectionHref:n+"/components"}:r(t).startsWith(n+"/patterns")?{sectionName:"Patterns",sectionHref:n+"/patterns"}:r(t).startsWith(n+"/community")?{sectionName:"Community",sectionHref:n+"/community"}:{sectionName:"Home",sectionHref:n+"/"}),y=l(()=>r(u).sectionName),M=l(()=>r(u).sectionHref);const v=a.data.componentTree||[],k=v.length>0?v.map(i=>({title:i.name,items:i.children&&i.children.length>0?j(i.children):[]})):[],h=[],w=[],F=[{title:"Setup guides",items:[{text:"About & Benefits",href:n+"/get-started/about-benefits"},{text:"Installation and usage",href:n+"/get-started"}]},{title:"Component library usage guides",items:[{text:"Component statuses",href:n+"/get-started/component-statuses"}]}],S=l(()=>{switch(r(y)){case"Get started":return F;case"Components":return k.map(d=>({...d,items:ye(d.items,r(t))}));case"Patterns":return h;case"Community":return w;default:return[]}}),I=l(()=>{const i=r(S);return!i||i.length===0?!1:i.some(d=>d.items&&d.items.length>0)}),e=v.length>0?De(v):[],o=[{title:"Get started",href:n+"/get-started",items:[{text:"Installation and usage",href:n+"/get-started"},{text:"About & Benefits",href:n+"/get-started/about-benefits"},{text:"Component statuses",href:n+"/get-started/component-statuses"}]},{title:"Components",href:n+"/components",items:e},{title:"Patterns",href:n+"/patterns",items:[]},{title:"Community",href:n+"/community",items:[]}];let s=l(ve);me(()=>{typeof window>"u"||document.body.classList.add("js-enabled")});var m=q(),X=z(m);{var Y=i=>{var d=Se(),x=g(d),W=g(x);fe(W,{});var A=b(W,2);const ee=l(()=>n+"/");ge(A,{get homepageUrl(){return r(ee)},organisationName:"MHCLG Digital, Data and Information",includeCrest:!1});var B=b(A,2);const te=l(()=>n+"/");Ce(B,{serviceName:"Svelte Component Library",get homeHref(){return r(te)},get mobileNavSections(){return o},get activeSectionHref(){return r(M)},get activeDetailHref(){return r(f)}});var O=b(B,2);_e(O,{tagText:"Alpha",linkHref:"mailto:dataexplorerfeedback@communities.gov.uk",bannerText:"This service is in development and intended to be production-ready and available for use by the digital community in Autumn 2025",linkText:""});var L=b(O,2);let $;var T=g(L),U=g(T);{var ae=N=>{var D=ke(),se=g(D);const ie=l(()=>r(y));be(se,{get title(){return r(ie)},get groups(){return r(S)},get currentItem(){return r(f)}}),C(D),H(N,D)};K(U,N=>{r(t)!==n+"/"&&r(I)&&N(ae)})}var G=b(U,2);let E;var re=g(G);J(re,()=>a.children),C(G),C(T),C(L),C(x);var ne=b(x,2);const oe=l(()=>[{href:r(s),label:"Cookies",onclick:ue},{href:"/privacy-policy",label:"Privacy Policy"}]);he(ne,{copyrightLogoUrl:"",get inlineLinks(){return r(oe)}}),C(d),de((N,D)=>{$=P(L,1,"app-pane__body svelte-igfkor",null,$,N),P(T,1,pe(r(t)!==n+"/"?"app-split-pane":""),"svelte-igfkor"),E=P(G,1,"svelte-igfkor",null,E,D)},[()=>({"govuk-width-container":r(t)!==n+"/"}),()=>({"app-split-pane__content":r(t)!==n+"/"&&r(I),"app-content":r(t)!==n+"/"})]),H(i,d)},Z=i=>{var d=q(),x=z(d);J(x,()=>a.children),H(i,d)};K(X,i=>{r(_)?i(Z,!1):i(Y)})}H(p,m),ce()}export{Ee as component,Ue as universal};
