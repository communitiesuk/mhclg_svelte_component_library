import"./CWj6FrbW.js";import{p as ce,f as N,a as ue,c as P,r as _,t as te,y as t,I as j,G as p,J as b,ab as ne,s as H,D as ie,u as De,ac as We}from"./I52qY7cu.js";import{c as se,a as A,f as V,e as Ae}from"./BBh-6AA0.js";import{d as He,b as Pe,W as Ve,P as Ye,C as ze,B as Ne,a as Xe,t as Ge,c as Je}from"./C-NMf74u.js";import{p as u,s as Fe}from"./BHp14Q1u.js";import{B as Ue,d as Ke}from"./Dso6Mmak.js";import{p as qe}from"./D5I35bDD.js";import{k as Qe}from"./lMwbQCpd.js";import{d as we,s as Ze}from"./5F35P8og.js";import{i as _e}from"./HAye_oo1.js";import{b as Me,d as $e,a as ee}from"./vwgBT8YE.js";import{b as et}from"./BvneAx7K.js";import{S as tt}from"./D8Lg2VAz.js";import{L as rt}from"./BzA6VxcV.js";import{e as pe,i as Se}from"./n63ZiD1W.js";import{s as Te}from"./BvNl7SXi.js";import{l as le}from"./Dr59Tgj7.js";import{l as Oe,c as Be}from"./CgWzFO5i.js";import{h as at}from"./B-AqiMg2.js";import{A as nt,a as it}from"./CSiiXlo3.js";import"./69_IOA4Y.js";import{C as ke}from"./BN7FUiX4.js";var ot=V("<div><p>tooltipContent is a string</p></div>"),lt=V("<div><!></div>");function st(i,e){ce(e,!0);let v=u(e,"labelColor",3,"red"),s=j(void 0),d=8,f=p(()=>d*2);var C=se(),R=N(C);{var S=a=>{var c=ot(),g=P(c);_(c),te(()=>{var h,o,y,L;return Me(c,`position:absolute;
  top: ${((h=e.markerRect)==null?void 0:h.y)??""}px;
  left: ${((o=e.markerRect)==null?void 0:o.x)??""}px;
  font-size: 24px;
  pointer-events: none;
  background-color: ${v()??""};
  padding: 5px;
  border-radius: 5px;
  height=${(((y=t(s))==null?void 0:y.height)??0)+d}
  rx=5;
  ry=5;
  width=${(((L=t(s))==null?void 0:L.width)??0)+t(f)}`)}),He(g,"contentRect",h=>b(s,h)),A(a,c)},M=a=>{var c=lt(),g=P(c);Te(g,()=>e.tooltipSnippet,()=>e.tooltipContent),_(c),te(()=>{var h,o;return Me(c,`position: absolute; top: ${((h=e.markerRect)==null?void 0:h.y)??""}px; left: ${((o=e.markerRect)==null?void 0:o.x)??""}px;`)}),A(a,c)};_e(R,a=>{e.tooltipSnippet===void 0?a(S):a(M,!1)})}A(i,C),ue()}function ct(i,e,v,s){i=i.map(f=>({targetY:v(f),y:v(f),height:s(f),datum:f})),i.sort((f,C)=>f.targetY-C.targetY);const d=[];for(const f of i){const C={data:[f]};for(Le(C,e),d.push(C);d.length>1&&d[d.length-2].hi>d[d.length-1].lo;){const R=d.pop(),S=d[d.length-1];S.data.push(...R.data),Le(S,e)}}return d.map(f=>f.data).flat()}function Le(i,e){const v=dt(i.data),s=ut(i.data,v);i.lo=s-v/2,i.lo<e[0]?i.lo=e[0]:i.lo>e[1]-v&&(i.lo=e[1]-v),i.hi=i.lo+v,Ie(i.data,i.lo,(d,f)=>{d.y=f})}function ut(i,e){const v=[];return Ie(i,-e/2,(s,d)=>{v.push({val:s.targetY-d,weight:1/s.height})}),gt(v)}function Ie(i,e,v){let s=e;for(const d of i)s+=d.height/2,v(d,s),s+=d.height/2}function dt(i){let e=0;for(const v of i)e+=v.height;return e}function gt(i){let e=0,v=0;for(const s of i)e+=s.val*s.weight,v+=s.weight;return e/v}var mt=Ae("<g><g></g><g></g></g>");function vt(i,e){ce(e,!0);let v=u(e,"chartBackgroundColor",3,"#fafafa"),s=ne([0,e.chartHeight]),d=p(()=>Object.values(e.tieredDataObject).filter(Array.isArray).flatMap(S=>S.filter(M=>M.placeLabel===!0)).filter((S,M,a)=>a.findIndex(c=>c[e.series]===S[e.series])===M).map(S=>({[e.series]:S[e.series],lastY:e.yFunction(S.data[0][e.y])}))),f=p(()=>ct(t(d),s,S=>S.lastY,S=>20*Math.ceil(S[e.series].length/15)));var C=se(),R=N(C);pe(R,17,()=>Object.keys(e.tieredDataObject),Se,(S,M)=>{var a=mt(),c=P(a);$e(c,()=>({...e.globalTierRules[t(M)]})),pe(c,21,()=>e.tieredDataObject[t(M)],Se,(h,o)=>{const y=p(()=>`line-${t(o)[e.series]}`);rt(h,Fe(()=>t(o),{get id(){return t(y)},get tier(){return t(M)},get chartBackgroundColor(){return v()},get lineFunction(){return e.lineFunction},get xFunction(){return e.xFunction},get yFunction(){return e.yFunction},get onMouseEnterSeries(){return e.onMouseEnterSeries},get onMouseLeaveSeries(){return e.onMouseLeaveSeries},get onClickSeries(){return e.onClickSeries},get clickedSeries(){return e.clickedSeries},get hoveredSeries(){return e.hoveredSeries},get series(){return e.series},get y(){return e.y},get x(){return e.x},get onMouseEnterMarker(){return e.onMouseEnterMarker},get onMouseLeaveMarker(){return e.onMouseLeaveMarker},get onClickMarker(){return e.onClickMarker},get activeMarkerId(){return e.activeMarkerId}}))}),_(c);var g=H(c);pe(g,21,()=>e.tieredDataObject[t(M)],Se,(h,o)=>{var y=se(),L=N(y);{var D=x=>{const T=p(()=>{var W;return(W=t(f).find(U=>U.datum[e.series]===t(o)[e.series]))==null?void 0:W[e.y]}),J=p(()=>`label-${t(o)[e.series]}`);tt(x,{get interactive(){return t(o).interactive},get id(){return t(J)},get clickedSeries(){return e.clickedSeries},get hoveredSeries(){return e.hoveredSeries},get chartWidth(){return e.chartWidth},get lineFunction(){return e.lineFunction},get dataArray(){return t(o)},get xFunction(){return e.xFunction},get yFunction(){return e.yFunction},get newY(){return t(T)},get onClickSeries(){return e.onClickSeries},get onMouseEnterSeries(){return e.onMouseEnterSeries},get onMouseLeaveSeries(){return e.onMouseLeaveSeries},get labelText(){return e.labelText},get series(){return e.series},get y(){return e.y},get tier(){return t(M)}})};_e(L,x=>{t(o).showLabel&&x(D)})}A(h,y)}),_(g),_(a),te(()=>ee(a,"id",t(M))),A(S,a)}),A(i,C),ue()}function ht(i,e){e()&&!i.target.closest('[id^="line"]')&&!i.target.closest('[id^="label"]')&&e(null)}var ft=Ae('<g><g data-role="lines-group"><!></g><g data-role="y-axis"><path stroke="black" stroke-width="2px"></path></g><g data-role="x-axis"><path stroke="black" stroke-width="2px"></path></g></g>'),yt=V('<div style="position: relative"><svg><!></svg> <!></div>');function oe(i,e){ce(e,!0);let v=u(e,"tooltipSnippet",3,void 0),s=u(e,"textContent",3,void 0),d=u(e,"xFunction",3,l=>le().domain([2015,2022]).range([0,F()-K()-q()])(l)),f=u(e,"yFunction",3,l=>le().domain([0,100]).range([re()-ae()-de(),0])(l)),C=u(e,"lineFunction",19,()=>Oe().x(l=>d()(l[e.x])).y(l=>f()(l[e.y])).curve(Be)),R=u(e,"labelText",3,"labelText"),S=u(e,"tooltipContent",3,"tooltipContent"),M=u(e,"onClickSeries",3,(l,k)=>{D()===dataId?D(null):(D(l),clickedTier=k)}),a=u(e,"onMouseLeaveSeries",3,(l,k)=>{x()===l&&(x(null),T(null))}),c=u(e,"onMouseEnterSeries",3,(l,k)=>{x()!==l&&(x(l),T(k))}),g=u(e,"onClickMarker",3,(l,k,w)=>{X(k),y([l.screenX,l.screenY]),L(rect)}),h=u(e,"onMouseEnterMarker",3,(l,k,w,B)=>{if(console.log("hovering"),X(k),z()){const I=z().getBoundingClientRect();y([l.clientX-I.left,l.clientY-I.top]),L({x:B.x-I.left+B.width/2,y:B.y-I.top+B.height/2})}else y([l.clientX,l.clientY]),L(B)}),o=u(e,"onMouseLeaveMarker",3,(l,k,w)=>{X(null)}),y=u(e,"currentMousePosition",7,void 0),L=u(e,"markerRect",7,void 0),D=u(e,"clickedSeries",15,void 0),x=u(e,"hoveredSeries",7,void 0),T=u(e,"hoveredTier",7,void 0),J=u(e,"overrideLineParams",3,()=>({})),W=u(e,"getLine",3,(l,k)=>!0),U=u(e,"nothingSelected",3,!0),F=u(e,"svgWidth",15,500),z=u(e,"container",15),re=u(e,"svgHeight",3,500),ae=u(e,"paddingTop",3,50),de=u(e,"paddingBottom",3,50),K=u(e,"paddingLeft",3,50),q=u(e,"paddingRight",3,150),X=u(e,"activeMarkerId",7,void 0),Q=u(e,"chartBackgroundColor",3,"#f5f5f5");u(e,"seriesLabels",11,!1);let Ce=u(e,"globalTierRules",19,()=>({otherTier:{},secondary:{opacity:U()?1:.5},primary:{opacity:U()?1:.4},hover:{opacity:1},clicked:{opacity:1}})),ge=u(e,"tieredLineParams",19,()=>({all:{}})),me=u(e,"basicLineParams",19,()=>({})),xe=p(()=>({xFunction:d(),yFunction:f(),lineFunction:C(),onClickSeries:M(),onMouseEnterSeries:c(),onMouseLeaveSeries:a(),onClickMarker:g(),onMouseEnterMarker:h(),onMouseLeaveMarker:o(),haloColor:Q(),invisibleStrokeWidth:20})),ve=p(()=>F()-K()-q()),Z=p(()=>re()-ae()-de());function he(l,k,w,B,I,r){const n=[...new Set([...Object.keys(r),...Object.keys(I??{}),...Object.keys(B[k]??{}),...Object.keys(w(k,l))])];return{...Object.fromEntries(n.map(m=>{var O;return[m,w(k,l)[m]??((O=B[k])==null?void 0:O[m])??I[m]??r[m]]})),...l,dataId:l[e.series],dataArray:l.data}}let $=p(()=>Object.keys(ge()).reduce((l,k)=>(l[k]=e.lineChartData.lines.filter(w=>W()(k,w)).map(w=>he(w,k,J(),ge(),me(),t(xe))),l),{}));var Y=yt(),G=P(Y);G.__click=[ht,D];var fe=P(G);{var ye=l=>{var k=ft(),w=P(k),B=P(w);vt(B,{get tieredDataObject(){return t($)},get dataArray(){return e.lineChartData.lines},get lineFunction(){return C()},get chartWidth(){return t(ve)},xFunction:d(),yFunction:f(),get hoveredSeries(){return x()},get clickedSeries(){return D()},get chartHeight(){return t(Z)},get globalTierRules(){return Ce()},get chartBackgroundColor(){return Q()},get nothingSelected(){return U()},onMouseEnterSeries:c(),onClickSeries:M(),onMouseLeaveSeries:a(),onClickMarker:g(),onMouseEnterMarker:h(),onMouseLeaveMarker:o(),get activeMarkerId(){return X()},get labelText(){return R()},get series(){return e.series},get y(){return e.y},get x(){return e.x},get tooltipContent(){return S()},get currentMousePosition(){return y()},get markerRect(){return L()}}),_(w);var I=H(w),r=P(I);_(I);var n=H(I),E=P(n);_(n),_(k),te(()=>{ee(k,"transform",`translate(${K()??""},${ae()??""})`),ee(r,"d",`M0 0 l0 ${t(Z)??""}`),ee(E,"d",`M0 ${t(Z)??""} l${t(ve)??""} 0`)}),A(l,k)};_e(fe,l=>{F()&&l(ye)})}_(G);var Ee=H(G,2);st(Ee,{get activeMarkerId(){return X()},labelColor:"grey",labelTextColor:"black",get tooltipContent(){return S()},xFunction:d(),yFunction:f(),get x(){return e.x},get y(){return e.y},get currentMousePosition(){return y()},get markerRect(){return L()},get tooltipSnippet(){return v()},get textContent(){return s()}}),_(Y),et(Y,l=>z(l),()=>z()),te(()=>{ee(G,"width",F()),ee(G,"height",re()),Me(G,`background-color: ${Q()??""}`)}),Pe(Y,"clientWidth",F),A(i,Y),ue()}we(["click"]);we(["click"]);const be=`
<script>

  import Template from "$lib/package-wrapping/Template.svelte";

<\/script>

<Template
checkboxProp={true}
dropdownProp="Dragonfruit"
jsObjectProp={[
  {
    name: "Borussia Dortmund",
    country: "Germany",
    color: "#fdff7d",
  },
  { name: "Liverpool FC", country: "UK", color: "#f59fad" },
  {
    name: "SSC Napoli",
    country: "Italy",
    color: "#69bfff",
  },
  {
    name: "S.L. Benfica",
    country: "Portugal",
    color: "#ff8c96",
  },
]}
functionProp={function (event, pokemon) {
  window.alert("Example 1 functionProp has been triggered.");
}}
></Template>`,kt=i=>{var e=se(),v=N(e);at(v,()=>'<div style="border: 1px solid black; padding: 0.5rem;"><i>tooltipContent</i></div>'),A(i,e)};var bt=V('<div class="p-5 bg-white"><!></div> <!>',1),pt=V('<div class="p-5 bg-white"><!></div> <!>',1),St=V('<div class="p-5 bg-white"><!></div> <!>',1),Ct=V('<div class="p-5 bg-white"><!></div> <!>',1),xt=V('<div class="bg-orange-50 p-5 flex flex-col gap-8"><!></div>'),Et=V('<span slot="header" class="text-lg"> </span>'),Mt=V('<div><h5 class="underline underline-offset-4 my-6">Examples of specific use cases</h5> <!></div>');function _t(i,e){ce(e,!0);const v=a=>{var c=bt(),g=N(c),h=P(g);oe(h,{get lineChartData(){return C},x:"x",y:"y",series:"areaCode"}),_(g);var o=H(g,2);ke(o,{get code(){return be},language:"svelte"}),A(a,c)},s=a=>{var c=pt(),g=N(c),h=P(g);oe(h,{get lineChartData(){return C},x:"x",y:"y",series:"areaCode"}),_(g);var o=H(g,2);ke(o,{get code(){return be},language:"svelte"}),A(a,c)},d=a=>{var c=St(),g=N(c),h=P(g);oe(h,{get lineChartData(){return C},x:"x",y:"y",series:"areaCode"}),_(g);var o=H(g,2);ke(o,{get code(){return be},language:"svelte"}),A(a,c)},f=a=>{var c=Ct(),g=N(c),h=P(g);oe(h,{get lineChartData(){return C},x:"x",y:"y",series:"areaCode",basicLineParams:{markers:!0,interactive:!0},get tooltipSnippet(){return kt}}),_(g);var o=H(g,2);ke(o,{get code(){return be},language:"svelte"}),A(a,c)},C=(()=>{const a=e.data.dataInFormatForLineChart.find(c=>c.metric==="Household waste recycling rate");return a?{...a,lines:a.lines.slice(0,5)}:null})();let R=[{id:"1",heading:"1. Static line chart",content:v},{id:"2",heading:"2. Interactive line chart",content:s},{id:"3",heading:"3. Chart with different tiers",content:d},{id:"4",heading:"4. Chart with markers",content:f}];var S=Mt(),M=H(P(S),2);nt(M,{activeClass:"text-[#EA580C] focus:ring-2 focus:ring-[#EA580C]",inactiveClass:"text-gray-500 dark:text-gray-400 hover:bg-slate-100",defaultClass:"w-full",children:(a,c)=>{var g=se(),h=N(g);pe(h,17,()=>R,Se,(o,y)=>{it(o,{children:(L,D)=>{var x=xt(),T=P(x);Te(T,()=>t(y).content),_(x),A(L,x)},$$slots:{default:!0,header:(L,D)=>{var x=Et(),T=P(x,!0);_(x),te(()=>Ze(T,t(y).heading)),A(L,x)}}})}),A(a,g)},$$slots:{default:!0}}),_(S),A(i,S),ue()}const je=(i,e=ie,v=ie,s=ie,d=ie)=>{Ue(i,{get name(){return e()},get folder(){return v()},get subFolder(){return s()},get homepage(){return d()},get statusObject(){return Lt},parentFolder:"components-update"})},Re=(i,e=ie)=>{Ne(i,{get homepage(){return e()},get detailsArray(){return Ft},get connectedComponentsArray(){return wt}})};let Lt={progress:"In progress",statusRows:[{obj:{Accessible:!1,Responsive:!1,"Prog. enhanced":!1},visibleOnHompepage:!1},{obj:{Reviewed:!1,Tested:!1},visibleOnHomepage:!1}]},At=["Explain here what the component does."],Pt=["Explain here the different contexts in which the component should be used."],Ft=[{label:"Description",arr:At,visibleOnHomepage:!0,markdown:!0},{label:"Context",arr:Pt,visibleOnHomepage:!1,markdown:!0}],wt=[];var Tt=V('<div class="p-8" b=""><!></div>'),Ot=V('<!> <!> <div><!></div> <div id="examples" data-role="examples-section"><!></div>',1);function Bt(i,e){ce(e,!0);const v=r=>{var n=Tt(),E=P(n);oe(E,Fe(()=>t(he),{get clickedSeries(){return t(y)},set clickedSeries(m){b(y,m,!0)},get hoveredSeries(){return t(o)},set hoveredSeries(m){b(o,m,!0)},get svgWidth(){return t(c)},set svgWidth(m){b(c,m,!0)},get container(){return t(J)},set container(m){b(J,m,!0)},get activeMarkerId(){return t(h)},set activeMarkerId(m){b(h,m,!0)},get series(){return t(s)},set series(m){b(s,m,!0)},get markerRect(){return t(T)},set markerRect(m){b(T,m,!0)},get currentMousePosition(){return t(x)},set currentMousePosition(m){b(x,m,!0)}})),_(n),A(r,n)};let s=j("areaCode"),d="E09000033",f="E06000040",C="E07000224",R=qe.url.pathname.split("/"),S=Qe(R[R.length-1]),M=j(ne(Ke.md)),a=ne({teal:"#408A7B",lightblue:"#509EC8",darkblue:"#335F91",ochre:"#BA7F30",coral:"#E46B6C",fuschia:"#BB2765",purple:"#736CAC",lightgrey:"#A0A0A0",darkgrey:"#636363",black:"#161616"}),c=j(700),g=p(()=>[t(y),t(o)].every(r=>r==null)),h=j(void 0),o=j(void 0),y=j(void 0),L=j(void 0),D=j(void 0),x=j(void 0),T=j(void 0),J=j(void 0),W=p(()=>Xe([{name:"x",category:"data",value:"x",description:"Data variable to be plotted on the x axis"},{name:"y",category:"data",value:"y",description:"Data variable to be plotted on the y axis"},{name:"series",category:"data",description:"Data variable used to distinguish between lines"},{name:"basicLineParams",category:"customisingLines",description:"Parameters that shared by all lines."},{name:"tieredLineParams",category:"customisingLines",description:"Parameters that apply to specific tiers. Takes priority over `basicLineParams`"},{name:"overrideLineParams",category:"customisingLines",description:"Parameters that are specific to particular lines. Takes priority over `basicLineParams` and tieredLineParams",functionElements:{functionAsString:`function (key, el) {
            return {
              pathStrokeColor: ["primary", "hover", "clicked"].includes(key)
                ? getColor(
                    el[series],
                    [
                      "E07000224",
                      "E07000225",
                      "E07000226",
                      "E07000228",
                    ].indexOf(el[series]),
                  )
                : null,
            };
          }`},value(r,n){return{placeLabel:[t(o),t(y)].includes(n[t(s)])||r==="primary"&&(t(g)||[t(L),t(D)].includes("primary")),showLabel:[t(o),t(y)].includes(n[t(s)])||r==="primary"&&t(g)||!t(y)&&t(L)==="primary"&&r==="primary",pathStrokeColor:["primary","hover","clicked"].includes(r)?K(n[t(s)],["E07000224","E07000225","E07000226","E07000228",f,C].indexOf(n[t(s)])):null,markerFill:["primary","hover","clicked"].includes(r)?K(n[t(s)],["E07000224","E07000225","E07000226","E07000228",f,C].indexOf(n[t(s)])):null}}},{name:"globalTierRules",category:"customisingLines",description:"Defines how the entire tier should be rendered. Must be valid SVG attributes",functionElements:{functionAsString:`{otherTier: {},
    secondary: {
      opacity: getValue("nothingSelected") ? 1 : 0.5,
    },
    primary: {
      opacity: getValue("nothingSelected") ? 1 : 0.4,
    },
    hover: { opacity: 1 },
    clicked: { opacity: 1 }}`}},{name:"colors",category:"customisingLines",value:a},{name:"clickedSeries",category:"lineEvents",isBinded:!0,value:t(y)},{name:"nothingSelected",category:"lineEvents",isBinded:!0,value:t(g)},{name:"hoveredSeries",category:"lineEvents",isBinded:!0,value:t(o)},{name:"activeMarkerId",category:"markerEvents",value:t(h)},{name:"currentMousePosition",category:"markerEvents",value:t(x)},{name:"markerRect",category:"markerEvents",value:t(T)},{name:"onClickSeries",category:"lineEvents",functionElements:{functionAsString:""},value(r,n){t(y)===r?(b(y,null),b(o,null)):(b(y,r,!0),b(D,n,!0),b(o,r,!0),b(L,n,!0))}},{name:"onMouseEnterSeries",category:"lineEvents",functionElements:{functionAsString:""},value(r,n){t(o)!==r&&(b(o,r,!0),b(L,n,!0))}},{name:"onMouseLeaveSeries",category:"lineEvents",functionElements:{functionAsString:""},value(r,n){t(o)===r&&(b(o,null),b(L,null))}},{name:"onMouseEnterMarker",category:"lineEvents",functionElements:{functionAsString:`function (event, dataArray, dataId) {
              labelHovered = series;
            }`},value(r,n,E,m){if(b(h,n,!0),t(J)){const O=t(J).getBoundingClientRect();b(x,[r.clientX-O.left,r.clientY-O.top],!0),b(T,{x:m.x-O.left+m.width/2,y:m.y-O.top+m.height/2},!0)}else b(x,[r.clientX,r.clientY],!0),b(T,m,!0)}},{name:"onMouseLeaveMarker",category:"lineEvents",functionElements:{functionAsString:`function (event, dataArray, dataId) {
              if (labelClicked !== series) {
                labelHovered = null;
              }
            }`},value(r,n,E){b(h,null)}},{name:"onClickMarker",category:"lineEvents",functionElements:{functionAsString:`function (event, dataArray, dataId) {
              labelClicked === series
                ? ((labelClicked = null), (labelHovered = null))
                : (labelClicked = series);
            }`},value(r,n,E){b(h,n,!0)}},{name:"getColor",category:"customisingLines",functionElements:{functionAsString:`function (series, i) {
    let colorsArray = [colors.coral, colors.fuschia, colors.purple];

    return (
      {
        [englandMedian]: colors.lightblue,
        [selectedAreaCode]: colors.teal,
        [similarAreas]: colors.darkblue,
      }[series] ?? colorsArray[i % colorsArray.length]
    );
  };`},value(r,n){let E=[a.coral,a.fuschia,a.purple];return{[f]:a.lightblue,[d]:a.teal,[C]:a.darkblue}[r]??E[n%E.length]}},{name:"paddingTop",category:"dimensions",value:50},{name:"paddingRight",category:"dimensions",value:150},{name:"paddingBottom",category:"dimensions",value:50},{name:"paddingLeft",category:"dimensions",value:50},{name:"svgHeight",category:"dimensions",value:500},{name:"svgWidth",category:"dimensions",value:t(c)},{name:"labelText",category:"labels",value(r){return r[t(s)]},isProp:!0},{name:"selectedMetric",category:"Data",visible:!0,options:["Household waste recycling rate","Recycling contamination rate","Residual household waste"]},{name:"lineChartData",category:"Data",visible:!1,isProp:!0},{name:"chartBackgroundColor",category:"Aesthetics",visible:!0,isProp:!0,value:"#f5f5f5",description:"Background color of the chart. Also used for the 'halo' outline given to lines."},{name:"xFunction",category:"xScale",value(r){return le().domain([2015,2022]).range([0,t(c)-F("paddingLeft")-F("paddingRight")])(r)}},{name:"yFunction",category:"yScale"},{name:"lineFunction",category:"lineFunction"},{name:"tooltipContent",category:"interactions",value:"Here's some content for a tooltip"},{name:"getLine",category:"customisingLines",functionElements:{functionAsString:`function (key, el, param) {
          let primaryLines = [
            "E07000224",
            "E07000225",
            "E07000226",
            "E07000228",
            englandMedian,
            similarAreas,
          ];
          if (key === "primary") {
            return primaryLines.includes(el[series]);
          }
          if (key === "secondary" && !primaryLines.includes(el[series])) {
            return true;
          }
          if (key === "hover") {
            return [lineHovered, labelHovered].includes(el[series]);
          }
          if (key === "clicked") {
            return [clickedSeries, clickedSeries].includes(el[series]);
          }
        },`},value(r,n){let E=["E07000224","E07000225","E07000226","E07000228",f,C];if(r==="primary")return E.includes(n[t(s)]);if(r==="secondary"&&!E.includes(n[t(s)]))return!0;if(r==="hover")return[t(o),t(o)].includes(n[t(s)]);if(r==="clicked")return[t(y),t(y)].includes(n[t(s)])}}])),U=function(r,n,E){return r.map(m=>{let O=E[m.name]??m.value;return m.isEditable===n&&O!=null?typeof O=="object"?JSON.stringify(O,null,2):O:null})},F=function(r){var n;return t(z)[(n=t(W))==null?void 0:n.findIndex(E=>E.name===r)]},z=j(ne(U(t(W),!0,{}))),re=p(()=>e.data.dataInFormatForLineChart.find(r=>r.metric===F("selectedMetric"))),ae=p(()=>({otherTier:{},secondary:{halo:!1,pathStrokeColor:a.black,pathStrokeWidth:1,opacity:.05,interactive:!0,markers:!1,showLabel:!1},primary:{halo:!0,pathStrokeWidth:5,pathStrokeColor:a.darkgrey,interactive:!0,lineEnding:null,markers:!0},clicked:{pathStrokeColor:a.ochre,pathStrokeWidth:7,halo:!0,interactive:!1,markers:!0,lineEnding:null},hover:{pathStrokeColor:a.ochre,pathStrokeWidth:6,halo:!0,interactive:!1,markers:!0,lineEnding:null}})),de=p(()=>({otherTier:{},secondary:{opacity:t(g)?1:.5},primary:{opacity:t(g)?1:.4},hover:{opacity:1},clicked:{opacity:1}})),K=function(r,n){let E=[a.coral,a.fuschia,a.purple];return{[f]:a.lightblue,[d]:a.teal,[C]:a.darkblue}[r]??E[n%E.length]},q=p(()=>function(r){return le().domain([2015,2022]).range([0,t(c)-F("paddingLeft")-F("paddingRight")])(r)}),X=p(()=>function(r){return le().domain([0,100]).range([F("svgHeight")-F("paddingTop")-F("paddingBottom"),0])(r)}),Q=p(()=>Oe().x(r=>t(q)(r[F("x")])).y(r=>t(X)(r[F("y")])).curve(Be)),Ce=p(()=>({xFunction:t(q),yFunction:t(X),lineFunction:t(Q),haloColor:F("chartBackgroundColor"),invisibleStrokeWidth:20})),ge=p(()=>({xFunction:t(q),yFunction:t(X),lineFunction:t(Q),lineChartData:t(re),tieredLineParams:t(ae),getColor:K,basicLineParams:t(Ce),nothingSelected:t(g),globalTierRules:t(de)})),me=p(()=>U(t(W),!1,t(ge))),xe=p(()=>Ge(t(W),t(z))),ve=p(()=>Je(t(W),t(z),t(me))),Z=p(()=>We(t(ve),2)),he=p(()=>t(Z)[0]),$=p(()=>t(Z)[1]),Y=ne({});De(()=>{t($).forEach(r=>{Y[r]=!0}),Object.keys(Y).forEach(r=>{t($).includes(r)||(Y[r]=!1)})});let G=p(()=>Object.fromEntries(Object.entries(t(he)).map(([r,n])=>{var E,m;return[r,typeof n=="function"?(m=(E=t(W).find(O=>O.name===r))==null?void 0:E.functionElements)==null?void 0:m.functionAsString:n]})));var fe=Ot(),ye=N(fe);const Ee=p(()=>({component:{WrapperInformation:Re,WrapperNameAndStatus:je},name:S}));Ve(ye,{get wrapper(){return t(Ee)},homepage:!1});var l=H(ye,2);Ye(l,{get parametersParsingErrorsArray(){return t($)},get parametersParsingErrorsObject(){return Y},onCloseFunction:r=>t($).filter(n=>n!=r)});var k=H(l,2),w=P(k);ze(w,{get Component(){return v},get parametersSourceArray(){return t(W)},get derivedParametersValuesArray(){return t(me)},get parametersVisibleArray(){return t(xe)},get parametersParsingErrorsObject(){return Y},get copyParametersToClipboardObject(){return t(G)},get demoScreenWidth(){return t(M)},set demoScreenWidth(r){b(M,r,!0)},get statedParametersValuesArray(){return t(z)},set statedParametersValuesArray(r){b(z,r,!0)}}),_(k);var B=H(k,2),I=P(B);_t(I,{get data(){return e.data}}),_(B),Pe(k,"clientWidth",r=>b(M,r)),A(i,fe),ue()}const ar=Object.freeze(Object.defineProperty({__proto__:null,WrapperInformation:Re,WrapperNameAndStatus:je,default:Bt},Symbol.toStringTag,{value:"Module"}));export{ar as _};
